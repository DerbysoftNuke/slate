<h1 id='27986d9d19'>修改历史</h1>
<table><thead>
<tr>
<th>作者</th>
<th>版本</th>
<th>更新日期</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Crystal Yang</td>
<td>3.0</td>
<td>2017-10-24</td>
<td>初稿</td>
</tr>
</tbody></table>
<h1 id='153042ed9e'>概述</h1><h2 id='go'>Go 产品介绍</h2>
<p>Go 是德比软件专为中小型酒店分销商（以下简称分销商）量身定做的数据对接服务，帮助分销商快捷地实现与酒店供应商进行房型，房价，和可售房数据的对接。Go 提供标准化对接解决方案，并且节省时间与财务成本，分销商无需再为了“对接到酒店供应商”的项目服务而苦苦等待，使用德比软件的 Go 服务就能帮助分销商快速精准的对接到大型连锁酒店集团。</p>

<p>Go 标准化接口文档将详细说明如何利用接口服务来完成分销商和供应商的对接，以及各项注意事项。</p>
<h2 id='go-api'>Go API</h2>
<p>Go 服务数据交互流图</p>

<blockquote>
<p>图一： 静态信息数据流图</p>
</blockquote>
<pre class="highlight plaintext"><code>     ┌───────────┐          ┌─────────┐            ┌────────┐
     │Distributor│          │DerbySoft│            │Provider│
     └─────┬─────┘          └────┬────┘            └───┬────┘
           │    HotelSearch      │                     │     
           │────────────────────&gt;│                     │     
           │&lt;────────────────────│                     │     
           │                     │                     │     
           │HotelDescriptiveInfo │                     │     
           │────────────────────&gt;│Content Push or Pull │     
           │&lt;────────────────────│&lt;────────────────────|     
           │                     │                     │     
           │                     │                     │     
           │     GetChange       │                     │     
           │────────────────────&gt;│                     │     
           │&lt;────────────────────│                     │     
     ┌─────┴─────┐          ┌────┴────┐            ┌───┴────┐
     │Distributor│          │DerbySoft│            │Provider│
     └───────────┘          └─────────┘            └────────┘
</code></pre>
<blockquote>
<p>图二： 数据实时缓存、价格校验、酒店预订、取消预订、订单查询数据流图</p>
</blockquote>
<pre class="highlight plaintext"><code>     ┌───────────┐             ┌─────────┐              ┌────────┐
     │Distributor│             │DerbySoft│              │Provider│
     └─────┬─────┘             └────┬────┘              └───┬────┘
           │  Multi-Availability    │                       │     
           │───────────────────────&gt;│                       │     
           │&lt;───────────────────────│                       │     
           │                        │                       │     
           │                        │                       │     
           │Live Availability Check │                       │     
           │───────────────────────&gt;│Live Availability Check│
           │                        │──────────────────────&gt;|     
           │                        │&lt;──────────────────────|     
           │&lt;───────────────────────│                       │     
           │                        │                       │     
           │                        │                       │     
           │   Book Reservation     │                       │     
           │───────────────────────&gt;│   Book Reservation    │     
           │                        │──────────────────────&gt;|     
           │                        │&lt;──────────────────────|     
           │&lt;───────────────────────│                       │     
           │                        │                       │     
           │                        │                       │     
           │  Cancel Reservation    │                       │     
           │───────────────────────&gt;│  Cancel Reservation   │     
           │                        │──────────────────────&gt;|     
           │                        │&lt;──────────────────────|     
           │&lt;───────────────────────│                       │     
           │                        │                       │     
           │  Query Reservation     │                       │     
           │───────────────────────&gt;│                       │     
           │&lt;───────────────────────│                       │     
           │                        │                       │     
     ┌─────┴─────┐             ┌────┴────┐              ┌───┴────┐
     │Distributor│             │DerbySoft│              │Provider│
     └───────────┘             └─────────┘              └────────┘
</code></pre>
<blockquote>
<p>图三： 缓存数据交互图</p>
</blockquote>
<pre class="highlight plaintext"><code>     ┌────────┐          ┌───────────┐          ┌────────────────┐                       ┌─────────┐
     │Customer│          │Distributor│          │DistributorCache│                       │DerbySoft│
     └───┬────┘          └─────┬─────┘          └───────┬────────┘                       └────┬────┘
         │       Search        │                        │                                     │     
         │ ───────────────────&gt;│                        │                                     │     
         │                     │  Multi-Availability    │                                     │     
         │                     │───────────────────────&gt;│                                     │     
         │                     │                        │ Cache Missed then Multi-Availability│     
         │                     │                        │ ...................................&gt;|     
         │                     │                        │ &lt;...................................|     
         │                     │&lt;───────────────────────│                                     │     
         │ &lt;───────────────────│                        │                                     │     
         │                     │                        │                 CDS                 │     
         │                     │                        │ ───────────────────────────────────&gt;|     
         │                     │                        │ &lt;───────────────────────────────────|     
         │                     │                        │                                     │     
         │                     │                        │          Multi-Availability         │     
         │                     │                        │ ───────────────────────────────────&gt;|     
         │                     │                        │ &lt;───────────────────────────────────|     
     ┌───┴────┐          ┌─────┴─────┐          ┌───────┴────────┐                       ┌────┴────┐
     │Customer│          │Distributor│          │DistributorCache│                       │DerbySoft│
     └────────┘          └───────────┘          └────────────────┘                       └─────────┘
</code></pre><h2 id='go-2'>首次使用 Go 服务</h2>
<p>已经使用 Go 服务的用户可以忽略当前介绍。</p>

<p>当分销商与德比软件签订了 Go 对接服务相关合同后，对接流程随即启动，在整个对接流程中，会有 Go 相关人员全程协助酒店分销商完成自测以及相关验证，具体流程请参考以下步骤：</p>

<p>1.签署合同：若已经成功签约，请忽略这一步<br />
2.提交问卷：德比软件实施团队（以下简称实施团队）提供分销商对接调查问卷，分销商完成后提交至实施团队<br />
3.发放证书：实施团队会通过邮件方式发送测试账号等相关信息<br />
4.开发接口：分销商根据 Go 标准化接口文档（本文档）完成开发并自测<br />
5.两方测试：实施团队验证测试用例并通知分销商相关结果，以确保 Go 和分销商两方的连通性<br />
6.三方测试：分销商提供已经签订合约的酒店集团（以下简称供应商），德比软件确认后随即开展由分销商、德比软件、供应商共同参与的三方测试<br />
7.对接上线：三方确认测试结果后，按照分销商和供应商的约定进行逐步上线<br />
8.后期运维： Go 的运维团队负责协助对接上线后的各类问题，分销商可发送邮件至分配给分销商的特定支持邮箱</p>

<aside class="info">
注:<br />
* 在以上对接流程中有任何疑问，请发送邮件至 Go.dev@derbysoft.net<br />
* 步骤 1 到步骤 5 为一次性流程，仅针对首次使用 Go 对接服务的分销商<br />
* 步骤 6 到步骤 8 为非一次性流程，对于任意供应商，该步骤都需要分别完成，以确保订单流程畅通<br />
</aside>
<h2 id='go-3'>关于使用 Go 的限制</h2>
<p>Go 对接服务有以下三个限制：</p>

<p>1.字符限制：Go 接口服务中的所有字段，目前只支持拉丁字符。如果分销商需要罗马化服务，请发送邮件至 Go.dev@derbysoft.net。 Go 默认不提供此项服务，也不保证所有供应商都提供罗马化服务<br />
2.IP 限制：德比软件为 PCI 合规公司，对于订单服务，德比软件需要对分销商的 IP 进行授权（仅适用于于生产环境，测试环境无需对 IP 授权），IP 数量为 5 个，如果分销商需要德比软件授权更多数量的 IP，请发送邮件至 Go.dev@derbysoft.net 并提供适当说明<br />
3.流量限制：Go 对每个接口都有流量限制，对于 Multi Availability 接口而言，每天最大流量为 2,000,000，最大吞吐量为 TPS=100；如果超出限制，分销商会得到错误 Http 429 Too Many Request，可以通过联系 Go.dev@derbysoft.net 来获得更多流量</p>
<h2 id='go-4'>关于 Go 接口服务的超时设置</h2>
<p>Go 对接服务各个接口的默认超时时间为：</p>

<table><thead>
<tr>
<th>API 名称</th>
<th>默认超时时间（毫秒）</th>
</tr>
</thead><tbody>
<tr>
<td>Ping</td>
<td>1000</td>
</tr>
<tr>
<td>Change Discovery</td>
<td>5000</td>
</tr>
<tr>
<td>Multiple Availability</td>
<td>5000</td>
</tr>
<tr>
<td>Single Availability</td>
<td>120000</td>
</tr>
<tr>
<td>Make Reservation</td>
<td>120000</td>
</tr>
<tr>
<td>Query Reservation</td>
<td>120000</td>
</tr>
<tr>
<td>Cancel Reservation</td>
<td>120000</td>
</tr>
<tr>
<td>Content Hotel Search</td>
<td>60000</td>
</tr>
<tr>
<td>Content Hotel Descrptive Info</td>
<td>60000</td>
</tr>
<tr>
<td>Content Change</td>
<td>60000</td>
</tr>
</tbody></table>
<h1 id='d168ac7b93'>关于认证</h1>
<p>Go 会为分销商分配以下认证信息以获取 Go 服务的权限，缺一不可：</p>

<ul>
<li>认证秘钥（Authorization Key）：Go 会为每一个分销商分配一个唯一的 Authorization Key，分销商需要将此 Authorization Key 加到 HTTP Header 中才能访问 Go 服务</li>
<li>用户名及密码（User Name &amp; Password）：Go 会为每一个分销商分配唯一的用户名及密码来访问 Go 服务</li>
</ul>

<p>Authorization Key 示例如下：</p>

<p><code>HTTP Request Header 
POST /json/availability HTTP/1.1&lt;br /&gt;
Authorization: 53ac07777cdffac2d53000002d698728ce964432d7167596bc005c5fc&lt;br /&gt;
Accept-Encoding: gzip&lt;br /&gt;
Content-Type: text/json;charset=utf-8
</code></p>

<p>HTTP Response Header Example:</p>

<p><code>HTTP Response Header 
POST /json/availability HTTP/1.1&lt;br /&gt;
Authorization: 53ac07777cdffac2d53000002d698728ce964432d7167596bc005c5fc&lt;br /&gt;
Accept-Encoding: gzip&lt;br /&gt;
Content-Type: text/json;charset=utf-8
</code></p>
<h1 id='json'>关于 JSON 服务</h1>
<p>Go API 提供标准的 JSON 格式接口。这些接口只有使用德比分配的准入证书信息（包括用户名密码以及 Authorization Key）才有权限访问。如果需要使用另外一个版本的 JSON 或者除德比已提供的 XML、JSON 以外的其他接入协议请联系 Go.dev@derbysoft.net.</p>

<p>所有数据传输信息遵循 JSON (JavaScript Object Notation). 详细定义请见： <a href='https://tools.ietf.org/html/rfc4627'>RFC4627</a>.</p>

<p>详细的代码示例在右侧的灰色区域展示。</p>

<aside class="notice">
 1. 所有的POST请求都为 Https 加密传输，必须为TLS1.2版本。
 2. 德比软件未来有可能会在任一 API 中加入新的节点，请分销商在开发接口时考虑对此的兼容性，从而避免解析出错
</aside>
<h2 id='59953b831f'>关于接口和域名</h2>
<p>Go 提供 10个不同的接口服务，这些接口服务部署在 2个域名下：
* 域名 .derbysoftca.com 此域名下的接口服务有：酒店预订接口、订单取消接口、查询订单接口
* 域名 .derbysoftsec.com 此域名下的接口服务有：数据实时缓存接口、价格校验接口、静态信息相关接口</p>
<h2 id='code-format'>关于 Code Format</h2>
<ul>
<li>Channel Code - [0-9] [A-Z] and &#39;-&#39;</li>
<li>Hotel Code - [0-9] [A-Z] and &#39;-&#39;</li>
</ul>
<h2 id='header'>关于 Header</h2>
<ul>
<li>用户名和密码必须包含在每一个请求的 Header 中</li>
<li>Go 不会在返回的 Header 中加入用户名和密码</li>
</ul>
<h3 id='header-2'>请求 Header 部分通用字段</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Header</td>
<td>1</td>
<td>Header</td>
<td></td>
<td>Header</td>
</tr>
<tr>
<td>....UserName</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>德比分配给分销商的用户名</td>
</tr>
<tr>
<td>....Password</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>德比分配给分销商的密码</td>
</tr>
<tr>
<td>....Version</td>
<td>0.1</td>
<td>String</td>
<td>20</td>
<td>Go 的版本号</td>
</tr>
<tr>
<td>....EchoToken</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>唯一标识符<br />标识分销商每一个请求以及对应的返回，由分销商传送给德比</td>
</tr>
<tr>
<td>....Channel</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>分销商唯一识别符</td>
</tr>
<tr>
<td>....IATA</td>
<td>0.1</td>
<td>String</td>
<td>64</td>
<td>渠道 IATA</td>
</tr>
<tr>
<td>....Language</td>
<td>0.1</td>
<td>String</td>
<td>20</td>
<td>en-US 为当前唯一支持的语言 （Content 接口除外）</td>
</tr>
</tbody></table>
<h3 id='header-3'>应答 Header 部分通用字段</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Header</td>
<td>1</td>
<td>Header</td>
<td></td>
<td>Header</td>
</tr>
<tr>
<td>....Version</td>
<td>0.1</td>
<td>String</td>
<td>20</td>
<td>Go 的版本号</td>
</tr>
<tr>
<td>....EchoToken</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>唯一标识符<br />标识分销商每一个请求以及对应的返回，由分销商传送给德比</td>
</tr>
<tr>
<td>....Channel</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>分销商唯一识别符</td>
</tr>
<tr>
<td>....IATA</td>
<td>0.1</td>
<td>String</td>
<td>64</td>
<td>渠道 IATA</td>
</tr>
<tr>
<td>....Language</td>
<td>0.1</td>
<td>String</td>
<td>20</td>
<td>en-US 为当前唯一支持的语言 （Content 接口除外）</td>
</tr>
</tbody></table>
<h1 id='ping'>Ping</h1>
<ul>
<li>URL - https://go.derbysoftsec.com/go/v3.1/json/ping/yourusername/</li>
<li>Method - POST</li>
</ul>

<p>主要用于测试分销商与 Go 系统的连通性，不代表 Go 系统到酒店的连通性</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"Header"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Channel"</span><span class="p">:</span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IATA"</span><span class="p">:</span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Echo"</span><span class="p">:</span><span class="s2">"Hello!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>上述请求的应答</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"Header"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Channel"</span><span class="p">:</span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"IATA"</span><span class="p">:</span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Echo"</span><span class="p">:</span><span class="s2">"GoPlatform: Hello!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='ping-2'>Ping 请求</h2>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 请求 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Echo</td>
<td>1</td>
<td>String</td>
<td>256</td>
<td>Ping 的消息</td>
</tr>
</tbody></table>
<h2 id='ping-3'>Ping 应答</h2>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 应答 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Echo</td>
<td>1</td>
<td>String</td>
<td>256</td>
<td>Ping 响应消息</td>
</tr>
</tbody></table>
<h1 id='shopping-api'>Shopping API 酒店数据缓存接口</h1>
<p>酒店数据缓存接口提供了高性能，稳定可靠的数据缓存服务，分销商可以通过调用此接口来实现自己的数据缓存或者直接用于数据展示。</p>

<p>最佳实践：
* 首先，调用 Change Discovery 接口来检查在某段日期范围内，酒店数据（价格，房量，房态等）是否有变化
* 然后, 根据变化的酒店和日期作为参数，再调用 Multiple Availability 接口获取变化后的酒店数据</p>
<h2 id='change-discovery'>Change Discovery</h2>
<ul>
<li>URL - https://go.derbysoftsec.com/go/v3.1/json/changediscovery/yourusername/</li>
<li>Method - POST</li>
</ul>

<p>用法：渠道通过调用此接口来得知酒店在某个时间段是否有数据变化（价格，房量，房态等），从而更加高效的将数据缓存到渠道端。<br />
限制：每个请求最多可以请求 30 天的数据，对于超过 30 天的请求，请参考最佳实践。目前只支持对酒店级别的请求，不支持对城市以及地域级别的请求。<br />
最佳实践：对于超过 30 天这一时间段的请求，可以拆分成多个，例如<br />
* 查询 30 天以内的数据变化，发送一次请求
* 查询 30 到 60 天的数据变化，发送两次请求
* 查询 60 到 90 天的数据变化，发送三次请求
* 以此类推</p>

<p>请求示例</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"DateRange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"End"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T12:00:12"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T12:00:12"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>以上请求的应答</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"DateRange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"End"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-31"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"HotelChanges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hotel1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Changes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001001011110011111000001110111"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hotel2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Changes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1101011110100001101111001000001"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='change-discovery-2'>Change Discovery 请求</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 请求 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>DateRange</td>
<td>1</td>
<td>DateRange</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....Start</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>起始日期（当天包含在内）<br />格式为 yyyy-MM-dd</td>
</tr>
<tr>
<td>....End</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>结束日期（当天包含在内，请求的最大时间段为 30天）<br />格式为 yyyy-MM-dd</td>
</tr>
<tr>
<td>Hotels</td>
<td>1.100</td>
<td>Hotel</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....Timestamp</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>上一次此酒店数据变化的时间点（UTC 时间）<br />格式为yyyy-MM-ddThh:mm:ss</td>
</tr>
<tr>
<td>....Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>酒店唯一标识符</td>
</tr>
</tbody></table>
<h3 id='change-discovery-3'>Change Discovery 应答</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 应答 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>DateRange</td>
<td>1</td>
<td>DateRange</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....Start</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>起始日期（当天包含在内）<br />格式为 yyyy-MM-dd</td>
</tr>
<tr>
<td>....End</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>结束日期（当天包含在内，请求的最大时间段为 30天）<br />格式为 yyyy-MM-dd</td>
</tr>
<tr>
<td>HotelChanges</td>
<td>1.100</td>
<td>HotelChange</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>酒店唯一标识符</td>
</tr>
<tr>
<td>....Changes</td>
<td>1</td>
<td>String</td>
<td>31</td>
<td>代表酒店数据是否变化<br />0 代表没有变化；1 代表在以上时间段内数据有变化</td>
</tr>
</tbody></table>
<h2 id='multiple-availability'>Multiple Availability</h2>
<ul>
<li>URL - https://go.derbysoftsec.com/go/v3.1/json/multipleavailability/yourusername/</li>
<li>Method - POST</li>
</ul>

<p>用法：Multiple Availability 接口的设计初衷是帮助渠道实现酒店售卖页面或建立渠道端的数据缓存系统，此接口具有相应时间短，低延迟，高并发的特点。<br />
限制：<br />
* 每次请求最多包含 20 家酒店
* 为防止异常调用，我们会限制您的访问频率</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Hotel001"</span><span class="p">,</span><span class="s2">"Hotel002"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"StayDateRange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"CheckIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CheckOut"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-03"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ChildAges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>以上请求的应答</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"StayDateRange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"CheckIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CheckOut"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-03"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Availabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"RoomCriteriaRates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"RoomCriterion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"RoomRates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"RoomType"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"STD"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"STD Kid room"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"It's a rough-house, allow kids to read, build models, daydream, And keep innumerable possessions"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"BAR"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Breakfast and room"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Breakfast and room"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2D1N_6PM0D1N_100P"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No charge if you cancel it before 2 days, charge first night if you cancel it in 2 days, full payment if you no-show"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"ExtraPersonCharge"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"ExtraPersonChargeAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">13.20</span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
             </span><span class="s2">"RoomType"</span><span class="p">:{</span><span class="w">
               </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"DB"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"DB golden room"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Offering a lounge area, 24-hour front desk and free WiFi."</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"AI"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"All Inclusive"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"All Inclusive, breakfast, lunch and dinner."</span><span class="w">
             </span><span class="p">},</span><span class="w">
              </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AD100P_100P"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Non Refundable"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BB"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"RoomCriterion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ChildAges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"RoomRates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"RoomType"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"STD"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"STD golden room"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Gold rooms feature daily maid service and full security. All our room prices include breakfast and a safe. 1 bed king size."</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"BAR"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Breakfast and room"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Breakfast and room"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2D1N_6PM0D1N_100P"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No charge if you cancel it before 2 days, charge first night if you cancel it in 2 days, full payment if you no-show"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">           
             </span><span class="s2">"RoomType"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"DB"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"DB golden room"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Offering a lounge area, 24-hour front desk and free WiFi."</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"AI"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"All Inclusive"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"All Inclusive, breakfast, lunch and dinner."</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AD100P_100P"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Non Refundable"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BB"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"ExtraPersonCharge"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"ExtraPersonChargeAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">13.20</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel002"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"RoomCriteriaRates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"RoomCriterion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"RoomRates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
             </span><span class="s2">"RoomType"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"STD"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"STD golden room"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Gold rooms feature daily maid service and full security. All our room prices include breakfast and a safe. 1 bed king size."</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"BAR"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Breakfast and room"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Breakfast and room"</span><span class="w">
              </span><span class="p">},</span><span class="w">           
              </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2D1N_6PM0D1N_100P"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No charge if you cancel it before 2 days, charge first night if you cancel it in 2 days, full payment if you no-show"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"ExtraPersonCharge"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"ExtraPersonChargeAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">13.20</span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
             </span><span class="s2">"RoomType"</span><span class="p">:{</span><span class="w">
                 </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"DB"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"DB golden room"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Offering a lounge area, 24-hour front desk and free WiFi."</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                 </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"FB"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Full Board"</span><span class="p">,</span><span class="w">
                 </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Full Board"</span><span class="w">
              </span><span class="p">},</span><span class="w">            
              </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AD100P_100P"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Non Refundable"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BB"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
              </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
            </span><span class="err">//Has</span><span class="w"> </span><span class="err">more</span><span class="w"> </span><span class="err">GuestRoomRate</span><span class="p">,</span><span class="w"> </span><span class="err">omitted...</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='multiple-availability-2'>Multiple Availability 请求</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 请求中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotels</td>
<td>1.20</td>
<td>String[]</td>
<td>128</td>
<td>酒店唯一识别符。每个请求最多支持 20个酒店。</td>
</tr>
<tr>
<td>StayDateRange</td>
<td>1</td>
<td>StayDateRange</td>
<td></td>
<td>入住日期区间</td>
</tr>
<tr>
<td>....CheckIn</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>入住日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>....CheckOut</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>离店日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>Rooms</td>
<td>1.9</td>
<td>RoomCriterion[]</td>
<td></td>
<td>数组；数组长度代表房间数</td>
</tr>
<tr>
<td>....AdultCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的成人数</td>
</tr>
<tr>
<td>....ChildCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的小孩数</td>
</tr>
<tr>
<td>....ChildAges</td>
<td>0.1</td>
<td>Int[]</td>
<td></td>
<td>小孩年龄；当存在小孩数时，小孩年龄必填，并且年龄数量要与小孩数一致，以逗号（,）分开；小于 1岁的小孩，小孩年龄为 0</td>
</tr>
</tbody></table>
<h3 id='multiple-availability-3'>Multiple Availability 应答</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 应答中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>StayDateRange</td>
<td>1</td>
<td>StayDateRange</td>
<td></td>
<td>入住日期区间</td>
</tr>
<tr>
<td>....CheckIn</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>入住日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>....CheckOut</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>离店日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>Availabilities</td>
<td>0.20</td>
<td>Availability</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....Hotel</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>酒店唯一识别符</td>
</tr>
<tr>
<td>....RoomCriteriaRates</td>
<td>1.9</td>
<td>RoomCriteriaRate</td>
<td></td>
<td>可用房及价格</td>
</tr>
<tr>
<td>........RoomCriterion</td>
<td>1</td>
<td>RoomCriterion</td>
<td></td>
<td></td>
</tr>
<tr>
<td>............AdultCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的成人数</td>
</tr>
<tr>
<td>............ChildCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的小孩数</td>
</tr>
<tr>
<td>............ChildAges</td>
<td>0.1</td>
<td>Int[]</td>
<td></td>
<td>小孩年龄；当存在小孩数时，小孩年龄必填，并且年龄数量要与小孩数一致，以逗号（,）分开；小于 1岁的小孩，小孩年龄为 0</td>
</tr>
<tr>
<td>........RoomRates</td>
<td>1.n</td>
<td>RoomRate</td>
<td></td>
<td>可用房型价格信息</td>
</tr>
<tr>
<td>............RoomType</td>
<td>1</td>
<td>RoomType</td>
<td></td>
<td>房型</td>
</tr>
<tr>
<td>................Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>房型代码</td>
</tr>
<tr>
<td>................Name</td>
<td>0.1</td>
<td>String</td>
<td>128</td>
<td>房型名称</td>
</tr>
<tr>
<td>................Description</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>房型描述</td>
</tr>
<tr>
<td>............RatePlan</td>
<td>1</td>
<td>RatePlan</td>
<td></td>
<td>可用价格计划信息</td>
</tr>
<tr>
<td>................Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>价格计划代码</td>
</tr>
<tr>
<td>................Name</td>
<td>0.1</td>
<td>String</td>
<td>128</td>
<td>价格计划名称</td>
</tr>
<tr>
<td>................Description</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>价格计划描述</td>
</tr>
<tr>
<td>............Currency</td>
<td>1</td>
<td>String</td>
<td>3</td>
<td>货币代码，遵循标准 ISO 4217.</td>
</tr>
<tr>
<td>............Fees</td>
<td>0.n</td>
<td>Fee</td>
<td></td>
<td>税规则，请参考附录</td>
</tr>
<tr>
<td>................Name</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>税费名称</td>
</tr>
<tr>
<td>................Type</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>税费类型；说明该税是否包含在价格中。例如 Inclusive, Exclusive，详情参考附录</td>
</tr>
<tr>
<td>................EffectiveDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td>税规则生效日期.<br> 格式: yyyy-MM-dd</td>
</tr>
<tr>
<td>................ExpireDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td>税规则失效日期（即：失效当天不含税）.<br>格式: yyyy-MM-dd</td>
</tr>
<tr>
<td>................Amount</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>税费价格；Amount 和 Percent 必有一个不为空</td>
</tr>
<tr>
<td>................Unit</td>
<td>0.1</td>
<td>Enum</td>
<td></td>
<td>税规则的单位，与 Amount 同时存在<br /> PER_ROOM_PER_NIGHT,<br>PER_PERSON_PER_NIGHT,<br>PER_ROOM_PER_STAY,<br>PER_PERSON_PER_STAY</td>
</tr>
<tr>
<td>................Percent</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>税费百分比；Amount 和 Percent 必有一个不为空</td>
</tr>
<tr>
<td>............CancelPolicy</td>
<td>0.1</td>
<td>CancelPolicy</td>
<td></td>
<td>该价格计划的取消政策，详情请参考附录</td>
</tr>
<tr>
<td>................Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>取消政策标准代码</td>
</tr>
<tr>
<td>................Description</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>取消政策描述信息</td>
</tr>
<tr>
<td>............MealPlan</td>
<td>1</td>
<td>String</td>
<td>8</td>
<td>含餐信息代码；例如：RO（不含餐），BB（含早餐及晚餐）等，详情请参考附录</td>
</tr>
<tr>
<td>............AmountBeforeTax</td>
<td>1</td>
<td>Double[]</td>
<td></td>
<td>税前价（每日价），三位小数</td>
</tr>
<tr>
<td>............AmountAfterTax</td>
<td>1</td>
<td>Double[]</td>
<td></td>
<td>税后价（每日价），三位小数</td>
</tr>
<tr>
<td>............ExtraPersonCharge</td>
<td>0.1</td>
<td>Double[]</td>
<td></td>
<td>加人价（税前）；目前仅 IHG 支持，详情请参考附录</td>
</tr>
<tr>
<td>............ExtraPersonChargeAfterTax</td>
<td>0.1</td>
<td>Double[]</td>
<td></td>
<td>加人价（税后）；目前仅 IHG 支持，详情请参考附录</td>
</tr>
</tbody></table>
<h1 id='reservation-api'>Reservation API</h1>
<p>Go 订单服务包含 4个接口服务，分别是：Live Availability Check，Reservation，Cancellation，Query Reservation</p>

<p>通用订单流程：<br /></p>

<ol>
<li>可用房查询：Multi Availability 查看可用房及其价格</li>
<li>下单前验价：Live Availability Check 获取最新可用房及其价格</li>
<li>预定： Reservation 下单</li>
<li>取消订单：CancelReservation API 取消订单</li>
<li>查询订单状态：<a href="#Reservation">QueryReservation API</a></li>
</ol>

<p>限制：<br />
德比软件为 PCI 合规公司，对于订单服务，德比软件需要对分销商的 IP 进行授权（仅适用于于生产环境，测试环境无需对 IP 授权），IP 数量为 5个，如果分销商需要德比软件授权更多数量的 IP，请发送邮件至 Go.dev@derbysoft.net 并提供适当说明</p>
<h2 id='live-availability-check'>Live Availability Check</h2>
<ul>
<li>URL - https://go.derbysoftsec.com/go/v3.1/json/singleavailability/yourusername/</li>
<li>Method - POST</li>
</ul>

<p>用法：<br />
此接口一般是在下单之前（Reservation）调用，以用于价格校验或者展示最新价格给客户<br />
限制：<br />
此接口只支持在 1个请求中查询 1个酒店<br />
最佳实践：<br />
* 若供应商系统支持该请求或允许分销商直接发送请求到供应商系统，Live Availability Check 发送给供应商端 
* 当供应商系统不支持该请求或不允许分销商直接发送请求到供应商系统，Live Availability Check 发送给德比缓存 </p>
<h3 id='live-avail-check-multi-property-availability-check'>Live Avail Check 和 Multi-Property Availability Check 接口特征对比</h3>
<table><thead>
<tr>
<th>对比条目</th>
<th>Live Avail Check</th>
<th>Multi- Property Availability Check</th>
</tr>
</thead><tbody>
<tr>
<td>用途</td>
<td>1) 下单前验价<br> 2) 展示最新可用房及价格</td>
<td>1) 可用房展示<br>2) 数据缓存</td>
</tr>
<tr>
<td>请求酒店数</td>
<td>1</td>
<td>&lt;=20</td>
</tr>
<tr>
<td>数据来源</td>
<td>供应商系统</td>
<td>德比缓存</td>
</tr>
<tr>
<td>响应时间</td>
<td>以供应商系统为准</td>
<td>毫秒级别</td>
</tr>
<tr>
<td>取消政策描述</td>
<td>支持</td>
<td>不支持</td>
</tr>
</tbody></table>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"StayDateRange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"CheckIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CheckOut"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-03"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ChildAges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>以上请求的返回</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"StayDateRange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"CheckIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CheckOut"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-03"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Availability"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"RoomCriteriaRates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"RoomCriterion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"RoomRates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"RoomType"</span><span class="p">:{</span><span class="w">
               </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"STD"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Standard room"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"BAR"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Bed and breakfast"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2D1N_6PM0D1N_100P"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No charge if you cancel it before 2 days, charge first night if you cancel it in 2 days, full payment if you no-show"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
            </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">],</span><span class="w">
            </span><span class="s2">"ExtraPersonCharge"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">10.00</span><span class="p">,</span><span class="w"> </span><span class="mf">12.00</span><span class="p">],</span><span class="w">
            </span><span class="s2">"ExtraPersonChargeAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">13.20</span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">

           </span><span class="s2">"RoomType"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"DB"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"DB golden room"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Offering a lounge area, 24-hour front desk and free WiFi."</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"AI"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"All Inclusive"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"All inclusive, offer for all inclusive guests to dine at restaurant at Hotel "</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AD100P_100P"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Non Refundable"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
            </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"GuestCount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ChildAges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"RoomRates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
             </span><span class="s2">"RoomType"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"STD"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"STD"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"BAR"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"BAR"</span><span class="w">
             </span><span class="p">},</span><span class="w">  
            </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2D1N_6PM0D1N_100P"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No charge if you cancel it before 2 days, charge first night if you cancel it in 2 days, full payment if you no-show"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
            </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">

           </span><span class="s2">"RoomType"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"DB"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"DB golden room"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Offering a lounge area, 24-hour front desk and free WiFi."</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"AI"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"All Inclusive"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"All inclusive, offer for all inclusive guests to dine at restaurant at Hotel "</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AD100P_100P"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Non Refundable"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
            </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">],</span><span class="w">
            </span><span class="s2">"ExtraPersonCharge"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">],</span><span class="w">
            </span><span class="s2">"ExtraPersonChargeAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">13.20</span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='live-availability-check-2'>Live Availability Check 请求</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 请求中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotel</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>酒店唯一识别符</td>
</tr>
<tr>
<td>StayDateRange</td>
<td>1</td>
<td>StayDateRange</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....CheckIn</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>入住日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>....CheckOut</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>离店日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>Rooms</td>
<td>1.9</td>
<td>RoomCriterion[]</td>
<td></td>
<td>每间房的客人数信息；数组，数量与房间数相同</td>
</tr>
<tr>
<td>....AdultCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房成人数</td>
</tr>
<tr>
<td>....ChildCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房小孩数</td>
</tr>
<tr>
<td>....ChildAges</td>
<td>0.1</td>
<td>Int[]</td>
<td></td>
<td>小孩年龄；当存在小孩数时，小孩年龄必填，并且年龄数量要与小孩数一致，以逗号（,）分开；小于 1岁的小孩，小孩年龄为 0</td>
</tr>
</tbody></table>
<h3 id='live-availability-check-3'>Live Availability Check 返回</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 应答中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>StayDateRange</td>
<td>1</td>
<td>StayDateRange</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....CheckIn</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>入住日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>....CheckOut</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>离店日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>Availability</td>
<td>0.1</td>
<td>Availability</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....Hotel</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>酒店唯一识别符</td>
</tr>
<tr>
<td>....RoomCriteriaRates</td>
<td>0.9</td>
<td>RoomCriteriaRate</td>
<td></td>
<td></td>
</tr>
<tr>
<td>........RoomCriterion</td>
<td>1</td>
<td>RoomCriterion</td>
<td></td>
<td></td>
</tr>
<tr>
<td>............AdultCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的成人数</td>
</tr>
<tr>
<td>............ChildCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的小孩数</td>
</tr>
<tr>
<td>............ChildAges</td>
<td>0.1</td>
<td>Int[]</td>
<td></td>
<td>小孩年龄；当存在小孩数时，小孩年龄必填，并且年龄数量要与小孩数一致，以逗号（,）分开；小于 1岁的小孩，小孩年龄为 0</td>
</tr>
<tr>
<td>........RoomRates</td>
<td>1.n</td>
<td>RoomRate</td>
<td></td>
<td>可用房型价格信息</td>
</tr>
<tr>
<td>............RoomType</td>
<td>1</td>
<td>RoomType</td>
<td></td>
<td>房型信息</td>
</tr>
<tr>
<td>................Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>房型代码</td>
</tr>
<tr>
<td>................Name</td>
<td>0.1</td>
<td>String</td>
<td>128</td>
<td>房型名称</td>
</tr>
<tr>
<td>................Description</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>房型描述</td>
</tr>
<tr>
<td>............RatePlan</td>
<td>1</td>
<td>RatePlan</td>
<td></td>
<td>价格计划信息</td>
</tr>
<tr>
<td>................Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>价格计划代码</td>
</tr>
<tr>
<td>................Name</td>
<td>0.1</td>
<td>String</td>
<td>128</td>
<td>价格计划名称</td>
</tr>
<tr>
<td>................Description</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>价格计划描述</td>
</tr>
<tr>
<td>............Currency</td>
<td>1</td>
<td>String</td>
<td>3</td>
<td>货币代码，遵循标准 ISO 4217</td>
</tr>
<tr>
<td>............Fees</td>
<td>0.1</td>
<td>Fees</td>
<td></td>
<td>税规则，请参考附录</td>
</tr>
<tr>
<td>................Name</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>税费名称</td>
</tr>
<tr>
<td>................Type</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>税费类型；说明该税是否包含在价格中。例如 Inclusive, Exclusive，详情参考附录</td>
</tr>
<tr>
<td>................EffectiveDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td>税规则生效日期.<br> 格式: yyyy-MM-dd <br>例: 2017-01-01</td>
</tr>
<tr>
<td>................ExpireDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td>税规则失效日期（即：失效当天不含税）.<br>格式: yyyy-MM-dd<br>例: 2017-01-09</td>
</tr>
<tr>
<td>................Amount</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>税费价格；Amount 和 Percent 必有一个不为空</td>
</tr>
<tr>
<td>................Unit</td>
<td>0.1</td>
<td>Enum</td>
<td></td>
<td>税规则的单位，与 Amount 同时存在<br /> PER_ROOM_PER_NIGHT,<br>PER_PERSON_PER_NIGHT,<br>PER_ROOM_PER_STAY,<br>PER_PERSON_PER_STAY</td>
</tr>
<tr>
<td>................Percent</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>税费百分比；Amount 和 Percent 必有一个不为空</td>
</tr>
<tr>
<td>............CancelPolicy</td>
<td>0.1</td>
<td>CancelPolicy</td>
<td></td>
<td>该价格计划的取消政策，详情请参考附录</td>
</tr>
<tr>
<td>................Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>取消政策标准代码</td>
</tr>
<tr>
<td>................Description</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>取消政策描述信息</td>
</tr>
<tr>
<td>............MealPlan</td>
<td>1</td>
<td>String</td>
<td>8</td>
<td>含餐信息代码；例如：RO（不含餐），BB（含早餐及晚餐）等，详情请参考附录</td>
</tr>
<tr>
<td>............AmountBeforeTax</td>
<td>1</td>
<td>Double[]</td>
<td></td>
<td>税前价（每日价），三位小数</td>
</tr>
<tr>
<td>............AmountAfterTax</td>
<td>1</td>
<td>Double[]</td>
<td></td>
<td>税后价（每日价），三位小数</td>
</tr>
<tr>
<td>............ExtraPersonCharge</td>
<td>0.1</td>
<td>Double[]</td>
<td></td>
<td>加人价（税前）；目前仅 IHG 支持，详情请参考附录</td>
</tr>
<tr>
<td>............ExtraPersonChargeAfterTax</td>
<td>0.1</td>
<td>Double[]</td>
<td></td>
<td>加人价（税后）；目前仅 IHG 支持，详情请参考附录</td>
</tr>
</tbody></table>
<h2 id='reservation'>Reservation</h2>
<ul>
<li>URL - https://go.derbysoftca.com/v3.1/go/json/reservation/yourusername/</li>
<li>Method - POST</li>
</ul>

<p>用法：分销商通过调用此接口来实现下单的功能<br />
限制：
* 支持一单多房；该订单中的酒店，房型，价格计划必须相同
* 不支持同一订单中出现多酒店，多房型或多个价格计划的预定
* 不支持同一订单中出现不同的入住组合（成人数和儿童数组合）
* 不同供应商支持的多房预定数可能不同，以供应商为准
* 不支持订单重试，特指使用同一个渠道订单号下单多次
* 不支持修改订单，可以通过取消再预定的方式修改订单
* 取消政策和税规则等信息不是必返回信息，以供应商返回为准
* 所有订单请求均为同步处理模式，若响应时间较长，此次请求可能会超时，Go 每个接口均有默认超时时间，详情请参考接口超时时间</p>

<p>最佳实践：
* 若分销商想要预定不同房型或者价格计划，可以分别下单
* 若分销商端设置超时时间，建议时间短于 Go 接口超时时间
* 当预定失败时（网络原因或超时等其他可能原因），可以调用 Query Reservation 接口查询并确认订单状态</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"StayDateRange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"CheckIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CheckOut"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-03"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"RoomCriterion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"RoomCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ChildAges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ReservationIDs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"DistributorResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C2084DFL0"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"PaymentCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"CardCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VI"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4111111111111111"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CardHolderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sherlock Holmes"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ExpireDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0116"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Guests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"RoomIndex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"FirstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"James"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"LastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bond"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"007@james.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baker Street 271B"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"RoomIndex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"FirstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sherlock"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"LastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Holmes"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SH@james.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baker Street 271B"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"ContactPerson"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"FirstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Walson"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"LastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Holmes"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"walson@james.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baker Street 271B"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"no smoking"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Bigger bed"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"ForceSell"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ExpectedRoomRate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"RoomType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2D1N_6PM0D1N_100P"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No charge if you cancel it before 2 days, charge first night if you cancel it in 2 days, full payment if you no-show"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
    </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response for above request</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"StayDateRange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"CheckIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CheckOut"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-03"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"RoomCriterion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"RoomCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ChildAges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ReservationIDs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"DistributorResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C2084DFL0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"DerbyResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D15F893D34DF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"HotelResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89389494"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Confirmed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ForceSell"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"RoomRate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"RoomType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2D1N_6PM0D1N_100P"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No charge if you cancel it before 2 days, charge first night if you cancel it in 2 days, full payment if you no-show"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
    </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">],</span><span class="w">
    </span><span class="s2">"ExtraPersonCharge"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">],</span><span class="w">
    </span><span class="s2">"ExtraPersonChargeAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">13.20</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="mf">400.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="mf">500.00</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='rservation'>Rservation 请求</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 请求中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotel</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>酒店唯一标识符</td>
</tr>
<tr>
<td>StayDateRange</td>
<td>1</td>
<td>StayDateRange</td>
<td></td>
<td>入住日期区间</td>
</tr>
<tr>
<td>....CheckIn</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>入住日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>....CheckOut</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>离店日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>RoomCriterion</td>
<td>1</td>
<td>RoomCriterion</td>
<td></td>
<td>房间信息</td>
</tr>
<tr>
<td>....RoomCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>预定房间数</td>
</tr>
<tr>
<td>....AdultCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的成人数</td>
</tr>
<tr>
<td>....ChildCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的小孩数</td>
</tr>
<tr>
<td>....ChildAges</td>
<td>0.1</td>
<td>Int[]</td>
<td></td>
<td>小孩年龄；当存在小孩数时，小孩年龄必填，并且年龄数量要与小孩数一致，以逗号（,）分开；小于 1岁的小孩，小孩年龄为 0</td>
</tr>
<tr>
<td>ReservationIDs</td>
<td>1</td>
<td>ReservationIDs</td>
<td></td>
<td>订单号信息</td>
</tr>
<tr>
<td>....DistributorResID</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>渠道订单号；唯一</td>
</tr>
<tr>
<td>PaymentCard</td>
<td>0.1</td>
<td>PaymentCard</td>
<td></td>
<td>信用卡信息；对于部分供应商此处为必填字段</td>
</tr>
<tr>
<td>....CardCode</td>
<td>1</td>
<td>Enum</td>
<td>2</td>
<td>信用卡类型；详情请参考附录</td>
</tr>
<tr>
<td>....CardNumber</td>
<td>1</td>
<td>String</td>
<td>20</td>
<td>信用卡卡号</td>
</tr>
<tr>
<td>....CardHolderName</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>持卡人姓名</td>
</tr>
<tr>
<td>....ExpireDate</td>
<td>1</td>
<td>String</td>
<td>4</td>
<td>信用卡过期时间；格式为 MMYY</td>
</tr>
<tr>
<td>Guests</td>
<td>1.n</td>
<td>Guest</td>
<td></td>
<td>客人信息</td>
</tr>
<tr>
<td>....RoomIndex</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>客人入住第几间房；并非所有供应商都支持，详情请参考附录</td>
</tr>
<tr>
<td>....FirstName</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>入住人名；仅支持英文字符</td>
</tr>
<tr>
<td>....LastName</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>入住人姓；仅支持英文字符</td>
</tr>
<tr>
<td>....Email</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>入住人电子邮箱</td>
</tr>
<tr>
<td>....Address</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>入住人联系地址</td>
</tr>
<tr>
<td>....Phone</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>入住人联系电话</td>
</tr>
<tr>
<td>....Mobile</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>入住人移动电话</td>
</tr>
<tr>
<td>ContactPerson</td>
<td>1</td>
<td>ContactPerson</td>
<td></td>
<td>联系人信息</td>
</tr>
<tr>
<td>....FirstName</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>联系人名</td>
</tr>
<tr>
<td>....LastName</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>联系人姓</td>
</tr>
<tr>
<td>....Email</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>联系人电子邮箱</td>
</tr>
<tr>
<td>....Address</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>联系人地址</td>
</tr>
<tr>
<td>....Phone</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>联系人电话</td>
</tr>
<tr>
<td>....Mobile</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>联系人移动电话</td>
</tr>
<tr>
<td>Comments</td>
<td>0.n</td>
<td>String[]</td>
<td>128</td>
<td>备注</td>
</tr>
<tr>
<td>ForceSell</td>
<td>1</td>
<td>Boolean</td>
<td></td>
<td>当前只支持 false；表示订单为供应商确认模式，订单是否预定成功及价格以供应商为准</td>
</tr>
<tr>
<td>ExpectedRoomRate</td>
<td>1</td>
<td>RoomRate</td>
<td></td>
<td>期望房型及其价格信息（将最近一次 Live Check 中期望的房型价格填入）</td>
</tr>
<tr>
<td>....RoomType</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>房型代码</td>
</tr>
<tr>
<td>....RatePlan</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>价格计划代码</td>
</tr>
<tr>
<td>....Currency</td>
<td>1</td>
<td>String</td>
<td>3</td>
<td>货币代码，遵循标准 ISO 4217</td>
</tr>
<tr>
<td>....Fees</td>
<td>0.n</td>
<td>Fee</td>
<td></td>
<td>税规则信息，请参考附录</td>
</tr>
<tr>
<td>........Name</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>税费名称</td>
</tr>
<tr>
<td>........Type</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>税费类型；说明该税是否包含在价格中。例如 Inclusive, Exclusive，详情参考附录</td>
</tr>
<tr>
<td>........EffectiveDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td>税规则生效日期.<br> 格式: yyyy-MM-dd <br>例: 2017-01-01</td>
</tr>
<tr>
<td>........ExpireDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td>税规则失效日期（即：失效当天不含税）.<br>格式: yyyy-MM-dd<br>例: 2017-01-09</td>
</tr>
<tr>
<td>........Amount</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>税费价格；Amount 和 Percent 必有一个不为空</td>
</tr>
<tr>
<td>........Unit</td>
<td>0.1</td>
<td>Enum</td>
<td></td>
<td>税规则的单位，与 Amount 同时存在[ PER_ROOM_PER_NIGHT,<br>PER_PERSON_PER_NIGHT,<br>PER_ROOM_PER_STAY,<br>PER_PERSON_PER_STAY ]</td>
</tr>
<tr>
<td>........Percent</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>税费百分比；Amount 和 Percent 必有一个不为空</td>
</tr>
<tr>
<td>....CancelPolicy</td>
<td>0.1</td>
<td>CancelPolicy</td>
<td></td>
<td>该价格计划的取消政策，详情请参考附录</td>
</tr>
<tr>
<td>........Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>取消政策标准代码，详情请参考附录</td>
</tr>
<tr>
<td>........Description</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>取消政策描述信息</td>
</tr>
<tr>
<td>....MealPlan</td>
<td>1</td>
<td>String</td>
<td>8</td>
<td>含餐信息代码；例如：RO（不含餐），BB（含早餐及晚餐）等，详情请参考附录</td>
</tr>
<tr>
<td>....AmountBeforeTax</td>
<td>1</td>
<td>Double[]</td>
<td></td>
<td>税前价（每日价），三位小数</td>
</tr>
<tr>
<td>....AmountAfterTax</td>
<td>1</td>
<td>Double[]</td>
<td></td>
<td>税后价（每日价），三位小数</td>
</tr>
<tr>
<td>....ExtraPersonCharge</td>
<td>0.1</td>
<td>Double[]</td>
<td></td>
<td>加人价（税前）；目前仅 IHG 支持，详情请参考附录</td>
</tr>
<tr>
<td>....ExtraPersonChargeAfterTax</td>
<td>0.1</td>
<td>Double[]</td>
<td></td>
<td>加人价（税后）；目前仅 IHG 支持，详情请参考附录</td>
</tr>
</tbody></table>
<h3 id='11d0241540'>返回</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 应答中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotel</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>酒店唯一标识符</td>
</tr>
<tr>
<td>StayDateRange</td>
<td>1</td>
<td>StayDateRange</td>
<td></td>
<td>入住日期区间</td>
</tr>
<tr>
<td>....CheckIn</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>入住日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>....CheckOut</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>离店日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>RoomCriterion</td>
<td>1</td>
<td>RoomCriterion</td>
<td></td>
<td>房间信息</td>
</tr>
<tr>
<td>....RoomCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>预定房间数</td>
</tr>
<tr>
<td>....AdultCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的成人数</td>
</tr>
<tr>
<td>....ChildCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的小孩数</td>
</tr>
<tr>
<td>....ChildAges</td>
<td>0.n</td>
<td>Int[]</td>
<td></td>
<td>小孩年龄；当存在小孩数时，小孩年龄必填，并且年龄数量要与小孩数一致，以逗号（,）分开；小于 1岁的小孩，小孩年龄为 0</td>
</tr>
<tr>
<td>ReservationIDs</td>
<td>1</td>
<td>ReservationIDs</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....DistributorResID</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>渠道订单号；唯一</td>
</tr>
<tr>
<td>....DerbyResID</td>
<td>1</td>
<td>String</td>
<td>32</td>
<td>德比订单号；唯一；用于查询订单状态</td>
</tr>
<tr>
<td>....HotelResID</td>
<td>1</td>
<td>String</td>
<td>256</td>
<td>酒店订单号；唯一；供应商为每一个订单生成的唯一订单号，只有在订单成功的时候才会返回</td>
</tr>
<tr>
<td>Status</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>唯一值 “Confirmed”</td>
</tr>
<tr>
<td>ForceSell</td>
<td>1</td>
<td>Boolean</td>
<td></td>
<td>当前只支持 false；表示订单为供应商确认模式，订单是否预定成功及价格以供应商为准</td>
</tr>
<tr>
<td>RoomRate</td>
<td>0.1</td>
<td>RoomRate</td>
<td></td>
<td>此节点只有在加人价（Extra Person Charge）存在时才返回，详情请参考附录</td>
</tr>
<tr>
<td>....RoomType</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>房型代码</td>
</tr>
<tr>
<td>....RatePlan</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>价格计划代码</td>
</tr>
<tr>
<td>....Currency</td>
<td>1</td>
<td>String</td>
<td>3</td>
<td>货币代码，遵循标准 ISO 4217</td>
</tr>
<tr>
<td>....Fees</td>
<td>0.n</td>
<td>Fee</td>
<td></td>
<td>税规则信息，请参考附录</td>
</tr>
<tr>
<td>........Name</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>税费名称</td>
</tr>
<tr>
<td>........Type</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>税费类型；说明该税是否包含在价格中。例如 Inclusive, Exclusive，详情参考附录</td>
</tr>
<tr>
<td>........EffectiveDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td>税规则生效日期.<br> 格式: yyyy-MM-dd <br>例: 2017-01-01</td>
</tr>
<tr>
<td>........ExpireDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td>税规则失效日期（即：失效当天不含税）.<br>格式: yyyy-MM-dd<br>例: 2017-01-09</td>
</tr>
<tr>
<td>........Amount</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>税费价格；Amount 和 Percent 必有一个不为空</td>
</tr>
<tr>
<td>........Unit</td>
<td>0.1</td>
<td>Enum</td>
<td></td>
<td>税规则的单位，与 Amount 同时存在[ PER_ROOM_PER_NIGHT,<br>PER_PERSON_PER_NIGHT,<br>PER_ROOM_PER_STAY,<br>PER_PERSON_PER_STAY ]</td>
</tr>
<tr>
<td>........Percent</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>税费百分比；Amount 和 Percent 必有一个不为空</td>
</tr>
<tr>
<td>....CancelPolicy</td>
<td>0.1</td>
<td>CancelPolicy</td>
<td></td>
<td>该价格计划的取消政策，详情请参考附录</td>
</tr>
<tr>
<td>........Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>取消政策标准代码，详情请参考附录</td>
</tr>
<tr>
<td>........Description</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>取消政策描述信息</td>
</tr>
<tr>
<td>....MealPlan</td>
<td>1</td>
<td>String</td>
<td>8</td>
<td>含餐信息代码；例如：RO（不含餐），BB（含早餐及晚餐）等，详情请参考附录</td>
</tr>
<tr>
<td>....AmountBeforeTax</td>
<td>1</td>
<td>Double[]</td>
<td></td>
<td>税前价（每日价，加人价包含在内），三位小数</td>
</tr>
<tr>
<td>....AmountAfterTax</td>
<td>1</td>
<td>Double[]</td>
<td></td>
<td>税后价（每日价，加人价包含在内），三位小数</td>
</tr>
<tr>
<td>....ExtraPersonCharge</td>
<td>0.1</td>
<td>Double[]</td>
<td></td>
<td>加人价（税前）；目前仅 IHG 支持，详情请参考附录</td>
</tr>
<tr>
<td>....ExtraPersonChargeAfterTax</td>
<td>0.1</td>
<td>Double[]</td>
<td></td>
<td>加人价（税后）；目前仅 IHG 支持，详情请参考附录</td>
</tr>
<tr>
<td>Total</td>
<td>1</td>
<td>Total</td>
<td></td>
<td>订单总价信息</td>
</tr>
<tr>
<td>....AmountBeforeTax</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>该订单税前价（总价）；三位小数</td>
</tr>
<tr>
<td>....AmountAfterTax</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>该订单税后价（总价）；三位小数</td>
</tr>
</tbody></table>
<h2 id='query-reservation'>Query Reservation</h2>
<ul>
<li>URL - https://go.derbysoftca.com/v3.1/go/json/queryreservation/yourusername/</li>
<li>Method - POST</li>
</ul>

<p>作用：<br/>
此接口用于分销商确认订单状态，或者查询特定订单详细信息
限制：<br/>
* 此接口只支持查询订单在德比系统中的状态，并且直接查询供应商系统
最佳实践：<br/>
* 下单时，若由于网络原因无法得知订单预定状态以及订单号，可以通过调用此接口查询订单是否成功及订单号</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ReservationIDs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"DistributorResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C2084DFL0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"DerbyResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D15F893D34DF"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>以上请求的返回</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"StayDateRange"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"CheckIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CheckOut"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-03"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"RoomCriterion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"RoomCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AdultCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ChildCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ChildAges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Guests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"RoomIndex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"FirstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"James"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"LastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bond"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"007@james.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baker Street 271B"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"RoomIndex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"FirstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sherlock"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"LastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Holmes"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SH@james.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baker Street 271B"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"ContactPerson"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"FirstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Walson"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"LastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Holmes"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"walson@james.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baker Street 271B"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"no smoking"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Bigger bed"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"ReservationIDs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"DistributorResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C2084DFL0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"DerbyResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D15F893D34DF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"HotelResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89389494"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"HotelCancelID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2389d023"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ReservationStatus"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ResStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"CancelStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"ForceSell"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"RoomRate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"RoomType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"RatePlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inclusive"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"CancelPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2D1N_6PM0D1N_100P"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No charge if you cancel it before 2 days, charge first night if you cancel it in 2 days, full payment if you no-show"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"MealPlan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">100.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">],</span><span class="w">
    </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">120.00</span><span class="p">,</span><span class="mf">132.00</span><span class="p">],</span><span class="w">
    </span><span class="s2">"ExtraPersonCharge"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">10.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">],</span><span class="w">
    </span><span class="s2">"ExtraPersonChargeAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">12.00</span><span class="p">,</span><span class="mf">13.20</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"AmountBeforeTax"</span><span class="p">:</span><span class="w"> </span><span class="mf">400.00</span><span class="p">,</span><span class="w">
    </span><span class="s2">"AmountAfterTax"</span><span class="p">:</span><span class="w"> </span><span class="mf">500.00</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='query-reservation-2'>Query Reservation 请求</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 请求中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotel</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>酒店唯一标识符</td>
</tr>
<tr>
<td>ReservationIDs</td>
<td>1</td>
<td></td>
<td></td>
<td>订单号信息</td>
</tr>
<tr>
<td>....DistributorResID</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>渠道订单号；唯一</td>
</tr>
<tr>
<td>....DerbyResID</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>德比订单号；唯一；用于查询订单状态</td>
</tr>
</tbody></table>
<h3 id='query-reservation-3'>Query Reservation 返回</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 应答中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotel</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>酒店唯一标识符</td>
</tr>
<tr>
<td>StayDateRange</td>
<td>1</td>
<td>StayDateRange</td>
<td></td>
<td>入住日期区间</td>
</tr>
<tr>
<td>....CheckIn</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>入住日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>....CheckOut</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>离店日期. 格式为 yyyy-MM-dd.</td>
</tr>
<tr>
<td>RoomCriterion</td>
<td>1</td>
<td>RoomCriterion</td>
<td></td>
<td>房间信息</td>
</tr>
<tr>
<td>....RoomCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>预定房间数</td>
</tr>
<tr>
<td>....AdultCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的成人数</td>
</tr>
<tr>
<td>....ChildCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>每间房的小孩数</td>
</tr>
<tr>
<td>....ChildAges</td>
<td>0.n</td>
<td>Int[]</td>
<td></td>
<td>小孩年龄；当存在小孩数时，小孩年龄必填，并且年龄数量要与小孩数一致，以逗号（,）分开；小于 1岁的小孩，小孩年龄为 0</td>
</tr>
<tr>
<td>Guests</td>
<td>1.n</td>
<td>Guest</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....RoomIndex</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>客人入住指定房间，详情请参考附录</td>
</tr>
<tr>
<td>....FirstName</td>
<td>1</td>
<td>String</td>
<td>256</td>
<td>入住人名；仅支持英文字符</td>
</tr>
<tr>
<td>....LastName</td>
<td>1</td>
<td>String</td>
<td>256</td>
<td>入住人姓；仅支持英文字符</td>
</tr>
<tr>
<td>....Email</td>
<td>0.1</td>
<td>String</td>
<td>256</td>
<td>入住人电子邮箱</td>
</tr>
<tr>
<td>....Address</td>
<td>0.1</td>
<td>String</td>
<td>256</td>
<td>入住人联系地址</td>
</tr>
<tr>
<td>....Phone</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>入住人联系电话</td>
</tr>
<tr>
<td>....Mobile</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>入住人移动电话</td>
</tr>
<tr>
<td>ContactPerson</td>
<td>1</td>
<td>ContactPerson</td>
<td></td>
<td>联系人信息</td>
</tr>
<tr>
<td>....FirstName</td>
<td>1</td>
<td>String</td>
<td>256</td>
<td>联系人名</td>
</tr>
<tr>
<td>....LastName</td>
<td>1</td>
<td>String</td>
<td>256</td>
<td>联系人姓</td>
</tr>
<tr>
<td>....Email</td>
<td>0.1</td>
<td>String</td>
<td>256</td>
<td>联系人电子邮箱</td>
</tr>
<tr>
<td>....Address</td>
<td>0.1</td>
<td>String</td>
<td>256</td>
<td>联系人地址</td>
</tr>
<tr>
<td>....Phone</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>联系人电话</td>
</tr>
<tr>
<td>....Mobile</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>联系人移动电话</td>
</tr>
<tr>
<td>Comments</td>
<td>0.n</td>
<td>String[]</td>
<td>256</td>
<td>备注</td>
</tr>
<tr>
<td>ReservationIDs</td>
<td>1</td>
<td>ReservationIDs</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....DistributorResID</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>渠道订单号；唯一</td>
</tr>
<tr>
<td>....DerbyResID</td>
<td>1</td>
<td>String</td>
<td>32</td>
<td>德比订单号；唯一</td>
</tr>
<tr>
<td>....HotelResID</td>
<td>0.1</td>
<td>String</td>
<td>256</td>
<td>酒店订单号；唯一</td>
</tr>
<tr>
<td>....HotelCancelId</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>酒店取消确认号</td>
</tr>
<tr>
<td>ReservationStatus</td>
<td>1</td>
<td>ReservationStatus</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....ResStatus</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>None：默认值，代表请求已经传输到 Go<br />Success：预定成功<br /> Failed: 预定失败<br> Processing: 订单在处理中</td>
</tr>
<tr>
<td>....CancelStatus</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>None：默认值，代表请求已经传输到 Go<br />Success：取消成功<br /> Failed: 取消失败<br> Processing: 订单在处理中</td>
</tr>
<tr>
<td>ForceSell</td>
<td>1</td>
<td>Boolean</td>
<td></td>
<td>当前只支持 false；表示订单为供应商确认模式，订单是否预定成功及价格以供应商为准</td>
</tr>
<tr>
<td>....Currency</td>
<td>1</td>
<td>String</td>
<td>3</td>
<td>货币代码，遵循标准 ISO 4217</td>
</tr>
<tr>
<td>RoomRate</td>
<td>0.1</td>
<td>RoomRate</td>
<td></td>
<td>仅当 ResStatus 值为 Success 时返回；订单中的房型及价格计划信息</td>
</tr>
<tr>
<td>....RoomType</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>房型代码</td>
</tr>
<tr>
<td>....RatePlan</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>价格计划代码</td>
</tr>
<tr>
<td>....Fees</td>
<td>0.n</td>
<td>Fee</td>
<td></td>
<td>税规则信息，详情请参考附录</td>
</tr>
<tr>
<td>........Name</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>税费名称</td>
</tr>
<tr>
<td>........Type</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>税费类型；说明该税是否包含在价格中。例如 Inclusive, Exclusive，详情参考附录</td>
</tr>
<tr>
<td>........EffectiveDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td>税规则生效日期.<br> 格式: yyyy-MM-dd <br>例: 2017-01-01</td>
</tr>
<tr>
<td>........ExpireDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td>税规则失效日期（即：失效当天不含税）.<br>格式: yyyy-MM-dd<br>例: 2017-01-09</td>
</tr>
<tr>
<td>........Amount</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>税费价格；Amount 和 Percent 必有一个不为空</td>
</tr>
<tr>
<td>........Unit</td>
<td>0.1</td>
<td>Enum</td>
<td></td>
<td>税规则的单位，与 Amount 同时存在[ PER_ROOM_PER_NIGHT,<br>PER_PERSON_PER_NIGHT,<br>PER_ROOM_PER_STAY,<br>PER_PERSON_PER_STAY ]</td>
</tr>
<tr>
<td>........Percent</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>税费百分比；Amount 和 Percent 必有一个不为空</td>
</tr>
<tr>
<td>....CancelPolicy</td>
<td>0.1</td>
<td>CancelPolicy</td>
<td></td>
<td>该价格计划的取消政策，详情请参考附录</td>
</tr>
<tr>
<td>........Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>取消政策标准代码，详情请参考附录</td>
</tr>
<tr>
<td>........Description</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>取消政策描述信息</td>
</tr>
<tr>
<td>....MealPlan</td>
<td>1</td>
<td>String</td>
<td>8</td>
<td>含餐信息代码；例如：RO（不含餐），BB（含早餐及晚餐）等，详情请参考附录</td>
</tr>
<tr>
<td>....AmountBeforeTax</td>
<td>1</td>
<td>Double[]</td>
<td></td>
<td>税前价（每日价），三位小数</td>
</tr>
<tr>
<td>....AmountAfterTax</td>
<td>1</td>
<td>Double[]</td>
<td></td>
<td>税后价（每日价），三位小数</td>
</tr>
<tr>
<td>Total</td>
<td>0.1</td>
<td>Total</td>
<td></td>
<td>订单总价信息</td>
</tr>
<tr>
<td>....AmountBeforeTax</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>订单总价（税前），三位小数</td>
</tr>
<tr>
<td>....AmountAfterTax</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>订单总价（税后），三位小数</td>
</tr>
</tbody></table>
<h2 id='cancellation'>Cancellation</h2>
<ul>
<li>URL - https://go.derbysoftca.com/v3.1/go/json/cancel/yourusername</li>
<li>Method - POST</li>
</ul>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ReservationIDs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"DerbyResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D15F893D34DF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"DistributorResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C2084DFL0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response for above request</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hotel001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ReservationIDs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"DerbyResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D15F893D34DF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"DistributorResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C2084DFL0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"HotelResID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89389494"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"HotelCancelID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89389494"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='cancellation-2'>Cancellation 请求</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 请求中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotel</td>
<td>1</td>
<td>String</td>
<td>20</td>
<td>酒店唯一标识符</td>
</tr>
<tr>
<td>ReservationIDs</td>
<td>1</td>
<td>ReservationIDs</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....DerbyResID</td>
<td>1</td>
<td>String</td>
<td>32</td>
<td>德比订单号；唯一</td>
</tr>
<tr>
<td>....DistributorResID</td>
<td>0.1</td>
<td>String</td>
<td>64</td>
<td>渠道订单号；唯一</td>
</tr>
</tbody></table>
<h3 id='cancellation-3'>Cancellation 返回</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 应答中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotel</td>
<td>1</td>
<td>String</td>
<td>32</td>
<td>酒店唯一标识符</td>
</tr>
<tr>
<td>ReservationIDs</td>
<td>1</td>
<td>ReservationIDs</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....DerbyResID</td>
<td>1</td>
<td>String</td>
<td>32</td>
<td>德比订单号；唯一</td>
</tr>
<tr>
<td>....DistributorResID</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>渠道订单号；唯一</td>
</tr>
<tr>
<td>....HotelResID</td>
<td>1</td>
<td>String</td>
<td>256</td>
<td>酒店订单号；唯一；供应商为每一个订单生成的唯一订单号</td>
</tr>
<tr>
<td>....HotelCancelId</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>酒店取消确认号</td>
</tr>
</tbody></table>
<h2 id='modification'>Modification</h2>
<p>目前 Go 不支持修改订单服务，若分销商有修改订单信息的需求，请通过取消订单，再预定的方式进行。</p>
<h1 id='content-api'>Content API</h1><h2 id='hotel-search'>酒店查询接口 Hotel Search</h2>
<ul>
<li>URL - https://go.derbysoftsec.com/go/v3.1/json/hotelsearch/yourusername</li>
<li>Method - POST</li>
</ul>

<p>作用：此接口用于查询某一特定地点特定范围内的所有酒店
限制：默认支持语言为 en-US，若需要其他语种，请联系 Go.dev@derbysoft.net；不确保各个供应商都支持多语言，以供应商为准</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Coordinate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.1141</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">38.8802</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Distance"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"km"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>以上请求的应答</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WI-1513"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Westin Arlington Gateway"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.1141</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">38.8802</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Proximity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0215215465</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"km"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WI-9527"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stephen Chou Hotel"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-77.1141</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">38.8802</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Proximity"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mi"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='hotel-search-2'>Hotel Search 请求</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Coordinate</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>....Longitude</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>经度</td>
</tr>
<tr>
<td>....Latitude</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>纬度</td>
</tr>
<tr>
<td>....Distance</td>
<td>0.100</td>
<td>Int</td>
<td></td>
<td>半径（以经纬度确定的地点为圆心）<br />半径的有效值为<br /></td>
</tr>
</tbody></table>

<p>0 - 100 km (100 包含在内) 或 0 - 62 milies (62包含在内)
....Unit                        | 1             | Enum      |           | 单位；只支持 km（千米） 或者 mi（英里）</p>
<h3 id='hotel-search-3'>Hotel Search 返回</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotels</td>
<td>0.n</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>....Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>符合搜索条件的 Hotel Code</td>
</tr>
<tr>
<td>....Name</td>
<td>1</td>
<td>String</td>
<td>1024</td>
<td>符合搜索条件的酒店的酒店名称</td>
</tr>
<tr>
<td>....Longitude</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>经度（符合搜索条件的酒店经度）</td>
</tr>
<tr>
<td>....Latitude</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>纬度（符合搜索条件的酒店纬度）</td>
</tr>
<tr>
<td>....Proximity</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>符合搜索条件的酒店与请求中经纬度所确定的地点之间的距离</td>
</tr>
<tr>
<td>....Unit</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>单位；只支持 km（千米） 或者 mi（英里）</td>
</tr>
<tr>
<td>....Direction</td>
<td>0.1</td>
<td>Enum</td>
<td></td>
<td>符合搜索条件的酒店的方位（相对于请求中经纬度所确定的地点）</td>
</tr>
</tbody></table>
<h2 id='hotel-descriptive-info'>酒店详情接口 Hotel Descriptive Info</h2>
<ul>
<li>URL - https://go.derbysoftsec.com/go/v3.1/json/hoteldescriptiveinfo/yourusername </li>
<li>Method - POST</li>
</ul>

<p>作用：此接口用于调取特定酒店的详细信息。例如：酒店详细描述；酒店设施信息；酒店图片等。<br />
限制：酒店详细信息的完整度和准确度以供应商为准。<br />
最佳实践：在 Go Content API 连通性完好的情况下，建议分销商和供应商联系是否可以提供该信息，并将确认后的信息以表格形式提供给德比软件。<br /></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotels"</span><span class="p">:[</span><span class="s2">"HI-NYCDT"</span><span class="p">,</span><span class="s2">"HI-DUSHI"</span><span class="p">,</span><span class="s2">"CI-IKJD"</span><span class="p">,</span><span class="s2">"CI-UDWO"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>以上请求的应答</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Warnings"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="s2">"Message"</span><span class="p">:</span><span class="s2">"Hotel [CI-IKJD] Not Found"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="s2">"Message"</span><span class="p">:</span><span class="s2">"Hotel [CI-UDWO] Not Found"</span><span class="p">}</span><span class="w">     
   </span><span class="p">],</span><span class="w">
  </span><span class="s2">"HotelInfo"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"HI-DALCH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Really Cool Hotel"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"RelativePositions"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"DFW Airport"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"IndexPointCode"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Nearest"</span><span class="p">:</span><span class="s2">"true"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Star Labs"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"IndexPointCode"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Nearest"</span><span class="p">:</span><span class="s2">"false"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"Description"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"The Doubletree Metropolitan Hotel New York City, located at Lexington Avenue and 51st Street in the
         heart of Midtown Manhattan's fashionable East Side, is walking distance from Park Avenue,Rockefeller Center and the
         Broadway Theater District. Recently renovated with 21st century amenities and restored to reflect its retro, 1960's
         glory, the Doubletree Metropolitan is still the ideal place to stay in the Big Apple. Business travelers enjoy the
         convenience of being in the center of the midtown business district, surrounded by Fortune 500 companies. We offer a
         full slate of business support services like meeting rooms, a well-appointed Business Center, equipment rentals and
         highspeed internet access. Walk to world-class shopping on Fifth Avenue and the shops of Madison Avenue, as well as
         to entertainment attractions like the NBC Studio Tour, Broadway shows and RadioCity Music Hall. We're close to
         everything that is New York City - Central Park, St. Patrick's Cathedral,the United Nations, The Empire State
         Building, and Grand Central Station. Do NYC in style from the Doubletree Metropolitan!See and be seen at afternoon
         tea or with evening cocktails at chic and trendy The Met Bar. Dine at The Met Grill, serving up elegant cuisine in
         popular surroundings for breakfast, lunch and dinner daily. Work out in our fitness center or be styled in our
         Salon. Get pampered at the Doubletree Metropolitan. Our Concierge and attentive staff members will attend to your
         every need, and your comfort is guaranteed. As always - enjoy our very special warm chocolate chip cookie at
         check-in!"</span><span class="p">,</span><span class="s2">"The Doubletree Metropolitan Hotel always welcome you."</span><span class="w">
       </span><span class="p">],</span><span class="w">
      </span><span class="s2">"Position"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Longitude"</span><span class="p">:</span><span class="mf">-77.1141</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Latitude"</span><span class="p">:</span><span class="mf">38.8802</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"Services"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
          </span><span class="s2">"CodeDetail"</span><span class="p">:</span><span class="s2">"Restaurant"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"BusinessServiceCode"</span><span class="p">:</span><span class="mi">39</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ProximityCode"</span><span class="p">:</span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">178</span><span class="p">,</span><span class="w">
          </span><span class="s2">"CodeDetail"</span><span class="p">:</span><span class="s2">"High Speed Internet"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"BusinessServiceCode"</span><span class="p">:</span><span class="mi">52</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ProximityCode"</span><span class="p">:</span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"GuestRooms"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"2DB"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"NonSmoking"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxOccupancy"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MinOccupancy"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxAdultOccupancy"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxChildOccupancy"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"RoomAmenities"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Descriptive"</span><span class="p">:</span><span class="s2">"Bathrobes"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Descriptive"</span><span class="p">:</span><span class="s2">"Cribs"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Descriptive"</span><span class="p">:</span><span class="s2">"VCR Player"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"3DB"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"NonSmoking"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxOccupancy"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MinOccupancy"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxAdultOccupancy"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxChildOccupancy"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Features"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"AccessibleCode"</span><span class="p">:</span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"AccessibleCode"</span><span class="p">:</span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"Policies"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"CheckinTime"</span><span class="p">:</span><span class="s2">"15:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"CheckoutTime"</span><span class="p">:</span><span class="s2">"12:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"AcceptedGuestType"</span><span class="p">:</span><span class="s2">"AdultOnly"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"KidsStayFree"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxChildAge"</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MinGuestAge"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"PetsAllowedCode"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="s2">"PetsPolicy"</span><span class="p">:</span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"CheckinTime"</span><span class="p">:</span><span class="s2">"21:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"CheckoutTime"</span><span class="p">:</span><span class="s2">"23:32:20"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxChildAge"</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MinGuestAge"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"AreaInfo"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"Recreations"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Code"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CodeDetail"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ProximityCode"</span><span class="p">:</span><span class="s2">"Nearby"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ProximityCode"</span><span class="p">:</span><span class="s2">"Offsite"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"Multimedia"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Images"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Category"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
              </span><span class="s2">"URL"</span><span class="p">:</span><span class="s2">"http://xxxxx.xx2"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Caption"</span><span class="p">:</span><span class="s2">"GuestRoom"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Category"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="s2">"URL"</span><span class="p">:</span><span class="s2">"http://xxxxx.xx1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Caption"</span><span class="p">:</span><span class="s2">"Exterior"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"Airports"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"443"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Tokyo International Airport"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Direction"</span><span class="p">:</span><span class="s2">"E"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Distance"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Unit"</span><span class="p">:</span><span class="s2">"km"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"International airport"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"222"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"PuDong International Airport"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"ContactInfo"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"Addresses"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"StreetNmbr"</span><span class="p">:</span><span class="s2">"346 CoolStreet"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CityName"</span><span class="p">:</span><span class="s2">"Coolsville"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"PostalCode"</span><span class="p">:</span><span class="s2">"34568"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StateProv"</span><span class="p">:</span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CountryName"</span><span class="p">:</span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CountryCode"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"StreetNmbr"</span><span class="p">:</span><span class="s2">"502 NiceStreet"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CityName"</span><span class="p">:</span><span class="s2">"StarCity"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CountryCode"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"URLs"</span><span class="p">:[</span><span class="w">
          </span><span class="s2">"http://coolhotel.coolbrand.com/awesome.html"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"http://coolname.brand.com/nice.html"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"Phones"</span><span class="p">:[</span><span class="s2">"021-21352212"</span><span class="p">,</span><span class="s2">"036-213545"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"Emails"</span><span class="p">:[</span><span class="s2">"example1@hotelname.com"</span><span class="p">,</span><span class="s2">"example2@hotelname.com"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"Faxes"</span><span class="p">:[</span><span class="s2">"hotel faxes1"</span><span class="p">,</span><span class="s2">"hotel faxes2"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"TPA_Extension"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Key"</span><span class="p">:</span><span class="s2">"ChannelCode"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Value"</span><span class="p">:</span><span class="s2">"DJAA"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Key"</span><span class="p">:</span><span class="s2">"RatePlanName"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Value"</span><span class="p">:</span><span class="s2">"DB_A"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Key"</span><span class="p">:</span><span class="s2">"Description"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Value"</span><span class="p">:</span><span class="s2">"This is a rate plan"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"HI-MINDC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Star Hotel"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"RelativePositions"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"DDD Airport"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"IndexPointCode"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Nearest"</span><span class="p">:</span><span class="s2">"true"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Star City"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"IndexPointCode"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Nearest"</span><span class="p">:</span><span class="s2">"false"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"The Doubletree Metropolitan Hotel New York Citylocated at Lexington Avenue."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Position"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"Longitude"</span><span class="p">:</span><span class="mf">-77.1141</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Latitude"</span><span class="p">:</span><span class="mf">38.8802</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"Services"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
          </span><span class="s2">"CodeDetail"</span><span class="p">:</span><span class="s2">"Music Service"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"BusinessServiceCode"</span><span class="p">:</span><span class="mi">39</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ProximityCode"</span><span class="p">:</span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
          </span><span class="s2">"CodeDetail"</span><span class="p">:</span><span class="s2">"Video Game"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"BusinessServiceCode"</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ProximityCode"</span><span class="p">:</span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"GuestRooms"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"DJM_DA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"NonSmoking"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxOccupancy"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MinOccupancy"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxAdultOccupancy"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxChildOccupancy"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"RoomAmenities"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Descriptive"</span><span class="p">:</span><span class="s2">"Bathrobes"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Code"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Descriptive"</span><span class="p">:</span><span class="s2">"Cribs"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"DescriptiveText"</span><span class="p">:</span><span class="s2">"Standard King with Lemonade Dispenser"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"IMKD"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"NonSmoking"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxOccupancy"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MinOccupancy"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxAdultOccupancy"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxChildOccupancy"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Features"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"AccessibleCode"</span><span class="p">:</span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"AccessibleCode"</span><span class="p">:</span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"DescriptiveText"</span><span class="p">:</span><span class="s2">"Standard Queue with Lemonade Dispenser"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"Policy"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"CheckinTime"</span><span class="p">:</span><span class="s2">"15:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"CheckoutTime"</span><span class="p">:</span><span class="s2">"12:00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"AcceptedGuestType"</span><span class="p">:</span><span class="s2">"AdultOnly"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"KidsStayFree"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MaxChildAge"</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="w">
          </span><span class="s2">"MinGuestAge"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"PetsAllowedCode"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="s2">"PetsPolicy"</span><span class="p">:</span><span class="s2">""</span><span class="w">
       </span><span class="p">},</span><span class="w">
      </span><span class="s2">"AreaInfo"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"Recreations"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Code"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CodeDetail"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ProximityCode"</span><span class="p">:</span><span class="s2">"Nearby"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ProximityCode"</span><span class="p">:</span><span class="s2">"Offsite"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"Multimedia"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Images"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Category"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
              </span><span class="s2">"URL"</span><span class="p">:</span><span class="s2">"http://xxxxx.xx2"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Caption"</span><span class="p">:</span><span class="s2">"GuestRoom"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"Category"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="s2">"URL"</span><span class="p">:</span><span class="s2">"http://xxxxx.xx1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Caption"</span><span class="p">:</span><span class="s2">"Exterior"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"Airport"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"423"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Famous Airport"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Direction"</span><span class="p">:</span><span class="s2">"E"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Distance"</span><span class="p">:</span><span class="mi">110</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Unit"</span><span class="p">:</span><span class="s2">"km"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"International airport"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Code"</span><span class="p">:</span><span class="s2">"21"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Name"</span><span class="p">:</span><span class="s2">"PuDong International Airport"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"ContactInfo"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"Addresses"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"StreetNmbr"</span><span class="p">:</span><span class="s2">"346 CoolStreet"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CityName"</span><span class="p">:</span><span class="s2">"Coolsville"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"PostalCode"</span><span class="p">:</span><span class="s2">"34568"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StateProv"</span><span class="p">:</span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CountryName"</span><span class="p">:</span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CountryCode"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"StreetNmbr"</span><span class="p">:</span><span class="s2">"502 NiceStreet"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"PostalCode"</span><span class="p">:</span><span class="s2">"StarCity"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"CountryCode"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"URLs"</span><span class="p">:[</span><span class="w">
          </span><span class="s2">"http://coolhotel.coolbrand.com/awesome.html"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"http://coolname.brand.com/nice.html"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"Phones"</span><span class="p">:[</span><span class="s2">"021-21352212"</span><span class="p">,</span><span class="s2">"036-213545"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"Emails"</span><span class="p">:[</span><span class="s2">"example1@hotelname.com"</span><span class="p">,</span><span class="s2">"example2@hotelname.com"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"Faxes"</span><span class="p">:[</span><span class="s2">"hotel faxes1"</span><span class="p">,</span><span class="s2">"hotel faxes2"</span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='hotel-descriptive-info-2'>Hotel Descriptive Info 请求</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotels</td>
<td>1.n</td>
<td>String</td>
<td>128</td>
<td>每个请求中最多支持 20个酒店</td>
</tr>
</tbody></table>
<h3 id='hotel-descriptive-info-3'>Hotel Descriptive Info 应答</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 请求中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>HotelInfo</td>
<td>0.n</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>....Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>酒店唯一标识符</td>
</tr>
<tr>
<td>....Name</td>
<td>1</td>
<td>String</td>
<td>1024</td>
<td>酒店名称</td>
</tr>
<tr>
<td>....RelativePositions</td>
<td>0.n</td>
<td></td>
<td></td>
<td>酒店相关地标点信息</td>
</tr>
<tr>
<td>........Name</td>
<td>1</td>
<td>String</td>
<td>1024</td>
<td>地标点名称</td>
</tr>
<tr>
<td>........IndexPointCode</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>OTA 代码类型: IPC；详情请参考 OTA 网站 http://opentravel.org/</td>
</tr>
<tr>
<td>........Nearest</td>
<td>0.1</td>
<td>Boolean</td>
<td></td>
<td>酒店是否距离定义坐标点最近</td>
</tr>
<tr>
<td>....Description</td>
<td>0.n</td>
<td>String</td>
<td>64k</td>
<td>酒店详情描述</td>
</tr>
<tr>
<td>....Position</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>........Longitude</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>酒店经度</td>
</tr>
<tr>
<td>........Latitude</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>酒店维度</td>
</tr>
<tr>
<td>....Services</td>
<td>0.n</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>........Code</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>OTA 代码类型：HAC；详情请参考 OTA 网站 http://opentravel.org/</td>
</tr>
<tr>
<td>........CodeDetail</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>OTA 代码所对应的描述信息</td>
</tr>
<tr>
<td>........BusinessServiceCode</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>OTA 代码类型: BUS；详情请参考 OTA 网站 http://opentravel.org/</td>
</tr>
<tr>
<td>........ProximityCode</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>字段未启用</td>
</tr>
<tr>
<td>....GuestRooms</td>
<td>0.n</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>........Code</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>房型代码</td>
</tr>
<tr>
<td>........Name</td>
<td>0.1</td>
<td>String</td>
<td>128</td>
<td>房型名称</td>
</tr>
<tr>
<td>........NonSmoking</td>
<td>0.1</td>
<td>Boolean</td>
<td></td>
<td>字段未启用</td>
</tr>
<tr>
<td>........MaxOccupancy</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>房间最大可入住人数（包含成人和小孩）</td>
</tr>
<tr>
<td>........MinOccupancy</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>房间最小可入住人数（包含成人和小孩）</td>
</tr>
<tr>
<td>........MaxAdultOccupancy</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>房间最大可入住成人数</td>
</tr>
<tr>
<td>........MaxChildOccupancy</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>房间最大可入住小孩数</td>
</tr>
<tr>
<td>........RoomAmenities</td>
<td>0.n</td>
<td></td>
<td></td>
<td>房间设施相关信息</td>
</tr>
<tr>
<td>............Code</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>OTA 代码类型：RMA；代表房间设施</td>
</tr>
<tr>
<td>............DescriptiveText</td>
<td>0.1</td>
<td>String</td>
<td>2048</td>
<td>房间设施描述</td>
</tr>
<tr>
<td>........Features</td>
<td>0.n</td>
<td></td>
<td></td>
<td>房间无障碍设施/安保设施信息</td>
</tr>
<tr>
<td>............AccessibleCode</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>OTA 代码类型：PHY；详情请参考 OTA 网站 http://opentravel.org/</td>
</tr>
<tr>
<td>........DescriptiveText</td>
<td>1</td>
<td>String</td>
<td>2014</td>
<td>房间级别设施描述</td>
</tr>
<tr>
<td>....Policy</td>
<td>0.1</td>
<td></td>
<td></td>
<td>相关政策信息</td>
</tr>
<tr>
<td>........CheckinTime</td>
<td>0.1</td>
<td>String</td>
<td>10</td>
<td>最早入住时间；为空表示未知；格式为 HH:mm:ss</td>
</tr>
<tr>
<td>........CheckoutTime</td>
<td>0.1</td>
<td>String</td>
<td>10</td>
<td>最晚入住时间；为空表示未知；格式为 HH:mm:ss</td>
</tr>
<tr>
<td>........AcceptedGuestType</td>
<td>0.1</td>
<td>String</td>
<td></td>
<td>字段未启用</td>
</tr>
<tr>
<td>........KidsStayFree</td>
<td>0.1</td>
<td>Boolean</td>
<td></td>
<td>字段未启用</td>
</tr>
<tr>
<td>........MaxChildAge</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>儿童年龄（被视为儿童的最大年龄）</td>
</tr>
<tr>
<td>........MinGuestAge</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>儿童年龄（被视为儿童的最小年龄）</td>
</tr>
<tr>
<td>........PetsAllowedCode</td>
<td>0.1</td>
<td>String</td>
<td></td>
<td>详情请参考附录，仅 IHG 支持</td>
</tr>
<tr>
<td>........PetsPolicy</td>
<td>0.1</td>
<td>String</td>
<td></td>
<td>宠物政策</td>
</tr>
<tr>
<td>....AreaInfo</td>
<td>0.1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>........Recreations</td>
<td>0.n</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>............Code</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>OTA 代码类型：PRX；详情请参考 OTA 网站 http://opentravel.org/</td>
</tr>
<tr>
<td>............CodeDetail</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>字段未启用</td>
</tr>
<tr>
<td>............ProximityCode</td>
<td>0.1</td>
<td>String</td>
<td>64</td>
<td>Describe the Approximate location of the multimedia facilities. Value allowed: Onsite, Offsite, Nearby</td>
</tr>
<tr>
<td>....Multimedia</td>
<td>0.n</td>
<td></td>
<td></td>
<td>多媒体信息</td>
</tr>
<tr>
<td>........Images</td>
<td>0.n</td>
<td></td>
<td></td>
<td>图片信息</td>
</tr>
<tr>
<td>............Category</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>OTA 代码类型：PIC；详情请参考 OTA 网站 http://opentravel.org/Describe</td>
</tr>
<tr>
<td>............URL</td>
<td>1</td>
<td>String</td>
<td>1024</td>
<td>图片地址</td>
</tr>
<tr>
<td>............Caption</td>
<td>0.1</td>
<td>String</td>
<td>2048</td>
<td>图片说明</td>
</tr>
<tr>
<td>....Airport</td>
<td>0.n</td>
<td></td>
<td></td>
<td>机场信息</td>
</tr>
<tr>
<td>........Code</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>酒店所在地的机场代码</td>
</tr>
<tr>
<td>........Name</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>酒店所在地的机场名称</td>
</tr>
<tr>
<td>........Direction</td>
<td>0.1</td>
<td>Enum</td>
<td></td>
<td>机场相对于酒店方位</td>
</tr>
<tr>
<td>........Distance</td>
<td>0.1</td>
<td>Double</td>
<td>1024</td>
<td>机场到酒店距离</td>
</tr>
<tr>
<td>........Unit</td>
<td>0.1</td>
<td>Enum</td>
<td></td>
<td>单位；只支持 km（千米） 或者 mi（英里）</td>
</tr>
<tr>
<td>........Description</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>该机场简介</td>
</tr>
<tr>
<td>....ContactInfo</td>
<td>0.1</td>
<td></td>
<td></td>
<td>酒店联系方式信息</td>
</tr>
<tr>
<td>........Addresses</td>
<td>0.n</td>
<td></td>
<td></td>
<td>酒店地址信息</td>
</tr>
<tr>
<td>............StreetNumber</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>酒店所在街区号</td>
</tr>
<tr>
<td>............CityName</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>酒店所在城市</td>
</tr>
<tr>
<td>............PostalCode</td>
<td>0.1</td>
<td>String</td>
<td>64</td>
<td>酒店所在地邮编</td>
</tr>
<tr>
<td>............StateProv</td>
<td>0.1</td>
<td>String</td>
<td>256</td>
<td>酒店所在地的洲或者区域名称</td>
</tr>
<tr>
<td>............CountryName</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td>酒店所在地的国家名称</td>
</tr>
<tr>
<td>............CountryCode</td>
<td>0.1</td>
<td>String</td>
<td>16</td>
<td>酒店所在地的国家代码</td>
</tr>
<tr>
<td>........URLs</td>
<td>0.n</td>
<td>String</td>
<td>1024</td>
<td>酒店网址</td>
</tr>
<tr>
<td>........Phones</td>
<td>0.n</td>
<td>String</td>
<td>32</td>
<td>酒店联系电话</td>
</tr>
<tr>
<td>........Emails</td>
<td>0.n</td>
<td>String</td>
<td>1024</td>
<td>酒店联系邮箱</td>
</tr>
<tr>
<td>........Faxes</td>
<td>0.n</td>
<td>String</td>
<td>32</td>
<td>酒店传真</td>
</tr>
</tbody></table>
<h2 id='content-change'>Content Change</h2>
<ul>
<li>URL - https://go.derbysoftsec.com/go/v3.1/json/hotelcontentchange/yourusername </li>
<li>Method - POST</li>
</ul>

<p>作用：<br >
此接口用于查询在某一时间点后酒店静态信息是否发生变化<br >
限制：<br >
一次请求最多可查询 20家酒店<br >
最佳实践：<br >
* 发现酒店静态信息发生变化后，调用 Hotel Descriptive 接口获取最新的静态信息</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Timestamp"</span><span class="p">:</span><span class="s2">"2016-01-02T10:22:36"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response for above request</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Hotels"</span><span class="p">:[</span><span class="s2">"HI-ATTSD"</span><span class="p">,</span><span class="s2">"CARLSON-ABCDE"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='content-change-2'>Content Change 请求</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 请求中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Timestamp</td>
<td>1</td>
<td>String</td>
<td></td>
<td>UTC 时间. 格式: yyyy-MM-ddTHH:mm:ss.</td>
</tr>
</tbody></table>
<h3 id='content-change-3'>Content Change 应答</h3>
<aside class="notice">
关于 Header 部分的通用字段，请参考 关于 JSON 服务 - 关于 Header - 应答中 Header 部分通用字段
</aside>

<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Hotels</td>
<td>0.n</td>
<td>String[]</td>
<td></td>
<td>在请求中定义的时间点，静态信息发生变化的 Hotel Code</td>
</tr>
</tbody></table>
<h1 id='errors-amp-warnings'>关于错误与警告 Errors &amp; Warnings</h1><h2 id='a38a81c9d5'>错误信息</h2>
<aside class="notice">
对于错误，Go 讲返回 HTTP 400
</aside>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Header"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestUser"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GrmNz0Ai3gytSLfJ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v0.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"EchoToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18393849028490234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXPEDIA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"IATA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0348487"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"Error"</span><span class="p">:{</span><span class="w">
     </span><span class="s2">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HotelNotFound"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Can not find hotel [Hotel001]"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Error</td>
<td>0.1</td>
<td>Object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>....Code</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>错误代码，请参考附录中的“错误代码表”</td>
</tr>
<tr>
<td>....Message</td>
<td>1</td>
<td>String</td>
<td>256</td>
<td>错误信息</td>
</tr>
</tbody></table>
<h2 id='53ba57bc87'>警告信息</h2>
<table><thead>
<tr>
<th>支持 Warning 字段的接口</th>
<th>返回 Warning 字段的场景</th>
</tr>
</thead><tbody>
<tr>
<td>Multiple Availability</td>
<td>当分销商请求无效 Hotel Code 时，返回 Warning；对于有效 Hotel Code，返回正确的信息</td>
</tr>
<tr>
<td>Change Discovery</td>
<td>当分销商请求无效 Hotel Code 时，返回 Warning；对于有效 Hotel Code，返回正确的信息</td>
</tr>
</tbody></table>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;MultiAvailabilityResponse</span> <span class="na">xmlns=</span><span class="s">"http://www.derbysoft.com/doorway"</span> <span class="na">Status=</span><span class="s">"Successful"</span> <span class="na">Token=</span><span class="s">"187be58c62c2f2515b5d78ee"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Availabilities&gt;</span>
        <span class="nt">&lt;Availability</span> <span class="na">CurrencyCode=</span><span class="s">"INR"</span> <span class="na">HotelCode=</span><span class="s">"IHG-BOMAP"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;GuestCount</span> <span class="na">AdultCount=</span><span class="s">"1"</span> <span class="na">ChildCount=</span><span class="s">"2"</span> <span class="na">ChildAges=</span><span class="s">"8,10"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;RoomTypes&gt;</span>
                <span class="nt">&lt;RoomType</span> <span class="na">RoomTypeCode=</span><span class="s">"KDXN"</span> <span class="na">RoomTypeName=</span><span class="s">"1 KING SUPERIOR NONSMOKING"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;RoomTypeDescription&gt;</span>1 KING SUPERIOR NONSMOKING<span class="nt">&lt;/RoomTypeDescription&gt;</span>
                <span class="nt">&lt;/RoomType&gt;</span>
                <span class="nt">&lt;RoomType</span> <span class="na">RoomTypeCode=</span><span class="s">"CDXN"</span> <span class="na">RoomTypeName=</span><span class="s">"DELUXE ROOM"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;RoomTypeDescription&gt;</span>DELUXE ROOM<span class="nt">&lt;/RoomTypeDescription&gt;</span>
                <span class="nt">&lt;/RoomType&gt;</span>
      <span class="nt">&lt;/RoomTypes&gt;</span>
      <span class="nt">&lt;RatePlans&gt;</span>
        <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanCode=</span><span class="s">"IDH15"</span> <span class="na">RatePlanName=</span><span class="s">"IDH15"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanCode=</span><span class="s">"IDU15"</span> <span class="na">RatePlanName=</span><span class="s">"IDU15"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/RatePlans&gt;</span>
      <span class="nt">&lt;RoomRates&gt;</span>
        <span class="nt">&lt;RoomRate</span> <span class="na">MealPlanCode=</span><span class="s">"RO"</span> <span class="na">RatePlanCode=</span><span class="s">"IDH15"</span> <span class="na">RoomTypeCode=</span><span class="s">"KDXN"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;Rates&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"8453.760"</span> <span class="na">AmountBeforeTax=</span><span class="s">"7140.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-11"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-12"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"8982.120"</span> <span class="na">AmountBeforeTax=</span><span class="s">"7586.250"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-12"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-16"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"6843.520"</span> <span class="na">AmountBeforeTax=</span><span class="s">"5780.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-16"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-17"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Rates&gt;</span>
          <span class="nt">&lt;CancelPolicy</span> <span class="na">NonRefundable=</span><span class="s">"true"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;CancelPenalties</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/CancelPolicy&gt;</span>
          <span class="nt">&lt;Fees&gt;</span>
            <span class="nt">&lt;Fee</span> <span class="na">ChargeType=</span><span class="s">"Tax"</span> <span class="na">Percent=</span><span class="s">"18.400"</span> <span class="na">Type=</span><span class="s">"Exclusive"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Fees&gt;</span>
        <span class="nt">&lt;/RoomRate&gt;</span>
        <span class="nt">&lt;RoomRate</span> <span class="na">MealPlanCode=</span><span class="s">"RO"</span> <span class="na">RatePlanCode=</span><span class="s">"IDU15"</span> <span class="na">RoomTypeCode=</span><span class="s">"CDXN"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;Rates&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"12580.000"</span> <span class="na">AmountBeforeTax=</span><span class="s">"10625.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-11"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-16"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"10567.200"</span> <span class="na">AmountBeforeTax=</span><span class="s">"8925.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-16"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-17"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Rates&gt;</span>
          <span class="nt">&lt;CancelPolicy</span> <span class="na">NonRefundable=</span><span class="s">"false"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;CancelPenalties&gt;</span>
              <span class="nt">&lt;CancelPenalty</span> <span class="na">MaxHoursBeforeCheckin=</span><span class="s">"48"</span> <span class="na">MinHoursBeforeCheckin=</span><span class="s">"0"</span> <span class="na">Nights=</span><span class="s">"1"</span> <span class="na">NoShow=</span><span class="s">"false"</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;CancelPenalty</span> <span class="na">Nights=</span><span class="s">"1"</span> <span class="na">NoShow=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/CancelPenalties&gt;</span>
          <span class="nt">&lt;/CancelPolicy&gt;</span>
          <span class="nt">&lt;Fees&gt;</span>
            <span class="nt">&lt;Fee</span> <span class="na">ChargeType=</span><span class="s">"Tax"</span> <span class="na">Percent=</span><span class="s">"18.400"</span> <span class="na">Type=</span><span class="s">"Exclusive"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Fees&gt;</span>
        <span class="nt">&lt;/RoomRate&gt;</span>
        <span class="nt">&lt;RoomRate</span> <span class="na">MealPlanCode=</span><span class="s">"RO"</span> <span class="na">RatePlanCode=</span><span class="s">"IDH15"</span> <span class="na">RoomTypeCode=</span><span class="s">"CDXN"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;Rates&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"10064.000"</span> <span class="na">AmountBeforeTax=</span><span class="s">"8500.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-11"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-12"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"10693.000"</span> <span class="na">AmountBeforeTax=</span><span class="s">"9031.250"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-12"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-16"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"8453.760"</span> <span class="na">AmountBeforeTax=</span><span class="s">"7140.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-16"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-17"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Rates&gt;</span>
          <span class="nt">&lt;CancelPolicy</span> <span class="na">NonRefundable=</span><span class="s">"true"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;CancelPenalties</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/CancelPolicy&gt;</span>
          <span class="nt">&lt;Fees&gt;</span>
            <span class="nt">&lt;Fee</span> <span class="na">ChargeType=</span><span class="s">"Tax"</span> <span class="na">Percent=</span><span class="s">"18.400"</span> <span class="na">Type=</span><span class="s">"Exclusive"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Fees&gt;</span>
        <span class="nt">&lt;/RoomRate&gt;</span>
      <span class="nt">&lt;/RoomRates&gt;</span>
        <span class="nt">&lt;/Availability&gt;</span>
        <span class="nt">&lt;Availability</span> <span class="na">CurrencyCode=</span><span class="s">"INR"</span> <span class="na">HotelCode=</span><span class="s">"IHG-BOMAP"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;GuestCount</span> <span class="na">AdultCount=</span><span class="s">"2"</span> <span class="na">ChildCount=</span><span class="s">"1"</span> <span class="na">ChildAges=</span><span class="s">"11"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;RoomTypes&gt;</span>
                <span class="nt">&lt;RoomType</span> <span class="na">RoomTypeCode=</span><span class="s">"KDXN"</span> <span class="na">RoomTypeName=</span><span class="s">"1 KING SUPERIOR NONSMOKING"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;RoomTypeDescription&gt;</span>1 KING SUPERIOR NONSMOKING<span class="nt">&lt;/RoomTypeDescription&gt;</span>
                <span class="nt">&lt;/RoomType&gt;</span>
                <span class="nt">&lt;RoomType</span> <span class="na">RoomTypeCode=</span><span class="s">"CDXN"</span> <span class="na">RoomTypeName=</span><span class="s">"DELUXE ROOM"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;RoomTypeDescription&gt;</span>DELUXE ROOM<span class="nt">&lt;/RoomTypeDescription&gt;</span>
                <span class="nt">&lt;/RoomType&gt;</span>
      <span class="nt">&lt;/RoomTypes&gt;</span>
      <span class="nt">&lt;RatePlans&gt;</span>
        <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanCode=</span><span class="s">"IDH15"</span> <span class="na">RatePlanName=</span><span class="s">"IDH15"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;RatePlan</span> <span class="na">RatePlanCode=</span><span class="s">"IDU15"</span> <span class="na">RatePlanName=</span><span class="s">"IDU15"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/RatePlans&gt;</span>
      <span class="nt">&lt;RoomRates&gt;</span>
        <span class="nt">&lt;RoomRate</span> <span class="na">MealPlanCode=</span><span class="s">"RO"</span> <span class="na">RatePlanCode=</span><span class="s">"IDH15"</span> <span class="na">RoomTypeCode=</span><span class="s">"KDXN"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;Rates&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"8453.760"</span> <span class="na">AmountBeforeTax=</span><span class="s">"7140.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-11"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-12"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"8982.120"</span> <span class="na">AmountBeforeTax=</span><span class="s">"7586.250"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-12"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-16"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"6843.520"</span> <span class="na">AmountBeforeTax=</span><span class="s">"5780.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-16"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-17"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Rates&gt;</span>
          <span class="nt">&lt;CancelPolicy</span> <span class="na">NonRefundable=</span><span class="s">"true"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;CancelPenalties</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/CancelPolicy&gt;</span>
          <span class="nt">&lt;Fees&gt;</span>
            <span class="nt">&lt;Fee</span> <span class="na">ChargeType=</span><span class="s">"Tax"</span> <span class="na">Percent=</span><span class="s">"18.400"</span> <span class="na">Type=</span><span class="s">"Exclusive"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Fees&gt;</span>
        <span class="nt">&lt;/RoomRate&gt;</span>
        <span class="nt">&lt;RoomRate</span> <span class="na">MealPlanCode=</span><span class="s">"RO"</span> <span class="na">RatePlanCode=</span><span class="s">"IDU15"</span> <span class="na">RoomTypeCode=</span><span class="s">"CDXN"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;Rates&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"12580.000"</span> <span class="na">AmountBeforeTax=</span><span class="s">"10625.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-11"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-16"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"10567.200"</span> <span class="na">AmountBeforeTax=</span><span class="s">"8925.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-16"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-17"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Rates&gt;</span>
          <span class="nt">&lt;CancelPolicy</span> <span class="na">NonRefundable=</span><span class="s">"false"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;CancelPenalties&gt;</span>
              <span class="nt">&lt;CancelPenalty</span> <span class="na">MaxHoursBeforeCheckin=</span><span class="s">"48"</span> <span class="na">MinHoursBeforeCheckin=</span><span class="s">"0"</span> <span class="na">Nights=</span><span class="s">"1"</span> <span class="na">NoShow=</span><span class="s">"false"</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;CancelPenalty</span> <span class="na">Nights=</span><span class="s">"1"</span> <span class="na">NoShow=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/CancelPenalties&gt;</span>
          <span class="nt">&lt;/CancelPolicy&gt;</span>
          <span class="nt">&lt;Fees&gt;</span>
            <span class="nt">&lt;Fee</span> <span class="na">ChargeType=</span><span class="s">"Tax"</span> <span class="na">Percent=</span><span class="s">"18.400"</span> <span class="na">Type=</span><span class="s">"Exclusive"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Fees&gt;</span>
        <span class="nt">&lt;/RoomRate&gt;</span>
        <span class="nt">&lt;RoomRate</span> <span class="na">MealPlanCode=</span><span class="s">"RO"</span> <span class="na">RatePlanCode=</span><span class="s">"IDH15"</span> <span class="na">RoomTypeCode=</span><span class="s">"CDXN"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;Rates&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"10064.000"</span> <span class="na">AmountBeforeTax=</span><span class="s">"8500.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-11"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-12"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"10693.000"</span> <span class="na">AmountBeforeTax=</span><span class="s">"9031.250"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-12"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-16"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"8453.760"</span> <span class="na">AmountBeforeTax=</span><span class="s">"7140.000"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-16"</span> <span class="na">ExpireDate=</span><span class="s">"2015-10-17"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Rates&gt;</span>
          <span class="nt">&lt;CancelPolicy</span> <span class="na">NonRefundable=</span><span class="s">"true"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;CancelPenalties</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/CancelPolicy&gt;</span>
          <span class="nt">&lt;Fees&gt;</span>
            <span class="nt">&lt;Fee</span> <span class="na">ChargeType=</span><span class="s">"Tax"</span> <span class="na">Percent=</span><span class="s">"18.400"</span> <span class="na">Type=</span><span class="s">"Exclusive"</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;/Fees&gt;</span>
        <span class="nt">&lt;/RoomRate&gt;</span>
      <span class="nt">&lt;/RoomRates&gt;</span>
        <span class="nt">&lt;/Availability&gt;</span>    
    <span class="nt">&lt;/Availabilities&gt;</span>
<span class="nt">&lt;/MultiAvailabilityResponse&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Warnings</td>
<td>0.n</td>
<td>String</td>
<td>1024</td>
<td>警告信息</td>
</tr>
</tbody></table>
<h1 id='f8519014aa'>附录</h1><h2 id='11f62fff80'>关于取消政策</h2>
<p>取消政策是为了合理保障供应商的权益，所定义的在消费者未入住前取消订单的相关政策。
 取消惩罚是取消政策中定义的详细取消惩罚。</p>
<h3 id='90ece6e498'>关于取消政策中的时间段</h3>
<ul>
<li>No Show 时间点. 如果客人没有在特定时间点之前到店办理入住或者取消订单，酒店将不再为客人保留订单，并且客人需要为违约支付一定的费用。不同供应商可能对 No Show 时间点的定义不同。</li>
<li>入住当天 Deadline 之前的时间段 - 一般情况下，酒店会在入住当天设置一个最后入住时间点，即 Deadline。在 Deadline 之前，可能存在多个取消时间段窗口，在不同时间段内的取消惩罚一般不同，正常情况下取消惩罚会随着接近入住当天而越来越严格。在接口中，我们用 MaxHourBeforeCheckIn 和 MinHourBeforeCheckIn 来表示相对于入住当天的 Deadline 的小时数，这些小时数目前都是 24 （1天）的整数倍</li>
<li>提前天数. 格式为：1D, 2D, 3D or AD。1D 表示提前 Deadline 1天，2D 表示提前 Deadline 2天，以此类推；AD 表示无限制提前天数</li>
</ul>

<aside class="notice">
关于时区（Timezone）
所有的时间（Deadline 和 Advance Day）均以酒店当地的时区为准，但是有一些供应商（大多数为酒店批发商）例外，这时候需要您将时间转换为酒店批发商所在的时区。
</aside>
<h3 id='898a343bb0'>关于取消政策的惩罚类型</h3>
<p>有三种惩罚类型：</p>

<ul>
<li>Percentage - 百分比. 将会收取当次入住总金额的百分比作为取消惩罚。例如 <code>80P</code>, <code>100P</code></li>
<li>Amount - 具体金额. 将会收取特定金额作为取消惩罚。该金额的货币单位与订单相同。例如 <code>120</code>, <code>245.75</code></li>
<li>Nights - 间夜. 将会收取多少个间夜的价钱。例如，当 Nights 为 2，三天房价分别为 100，110，120，取消惩罚共计 210</li>
</ul>
<h3 id='85d653b1e9'>关于取消政策的实例</h3>
<p>以下所有示例的入住时间（CheckIn）均为 2016-10-15，货币单位 $</p>
<h4 id='c8ba2a23a9'>取消政策代码解读全例</h4>
<p>对于取消政策： AD20_7D50_3D1N_1D50P_6PM0D80P_100P</p>

<ul>
<li><code>100P</code> 为当该订单为 No Show 时的取消惩罚，如果消费者没有提前取消订单并且未到达酒店，讲被收取订单费用 100% 的金额作为未取消惩罚</li>
<li><code>6PM0D80P</code> 如果消费者在入住日当天下午 6pm 之后（到 No Show 时间点之前）取消订单，将被收取订单费用 80% 的金额作为取消惩罚</li>
<li><code>1D50P</code> 如果消费者在 2016-10-14 下午 6pm 到入住日当天下午 6pm 取消订单，将会被收取订单金额 50% 的费用作为取消惩罚</li>
<li><code>3D1N</code> 如果消费者在 2016-10-12 下午 6pm 到 2016-10-14 下午 6pm 取消订单，将会被收取订单首晚房费的费用作为取消惩罚</li>
<li><code>7D50</code> 如果消费者在 2016-10-08 下午 6pm 到 2015-10-12 下午 6pm 取消订单，将会被收取 $50 作为取消惩罚</li>
<li><code>AD20</code> 如果消费者在 2016-10-12 下午 6pm 之前取消订单，将会被收取$50 作为取消惩罚</li>
</ul>
<h4 id='b088a9977f'>更多取消政策代码解读实例</h4>
<p>对于取消政策： 1D100P_6PM0D100P_100P</p>

<ul>
<li><code>100P</code> 为当该订单为 No Show 时的取消惩罚，如果消费者没有提前取消订单并且未到达酒店，将被收取订单费用 100% 的金额作为未取消惩罚</li>
<li><code>6PM0D100P</code> 如果消费者在入住日当天下午 6pm 之后（到 No Show 时间点之前）取消订单，将被收取订单费用 100% 的金额作为取消惩罚 </li>
<li><code>1D100P</code> 如果消费者在 2016-10-14 下午 6pm 到入住日当天下午 6pm 取消订单，将被将被收取订单费用 100% 的金额作为取消惩罚</li>
<li>取消政策代码中不存在 AD，说明消费者在 2016-10-14 下午 6pm 之前可以免费取消订单</li>
<li>此取消政策代码等同于 AD0_1D100P_6PM0D100P_100P </li>
</ul>

<p><code>AD100P_100P</code> - 不可免费取消
<code>0</code> - 免费取消</p>
<h2 id='b23fe69391'>关于税费</h2>
<table><thead>
<tr>
<th>参数名称</th>
<th>重复次数</th>
<th>参数类型</th>
<th>长度 (Byte)</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>Fees</td>
<td>0.1</td>
<td>Fee[]</td>
<td></td>
<td>税规则</td>
</tr>
<tr>
<td>....Name</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>税费名称</td>
</tr>
<tr>
<td>....Type</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>税费类型；说明该税是否包含在价格中。例如 Inclusive, Exclusive，详情参考附录</td>
</tr>
<tr>
<td>....EffectiveDate</td>
<td>0.1</td>
<td>String</td>
<td></td>
<td>税规则生效日期.<br> 格式: yyyy-MM-dd</td>
</tr>
<tr>
<td>....ExpireDate</td>
<td>0.1</td>
<td>String</td>
<td></td>
<td>税规则失效日期（即：失效当天不含税）.<br>格式: yyyy-MM-dd</td>
</tr>
<tr>
<td>....Amount</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>价格型税费，当百分比类型税费为空时必须存在，即价格型税费和百分比型税费至少存在一个</td>
</tr>
<tr>
<td>....Unit</td>
<td>0.1</td>
<td>Enum</td>
<td></td>
<td>税规则的单位，与 Amount 同时存在[ PER_ROOM_PER_NIGHT,<br>PER_PERSON_PER_NIGHT,<br>PER_ROOM_PER_STAY,<br>PER_PERSON_PER_STAY ]</td>
</tr>
<tr>
<td>....Percent</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>税费百分比；Amount 和 Percent 必有一个不为空</td>
</tr>
</tbody></table>
<h3 id='inclusive-amp-exclusive'>Inclusive &amp; Exclusive</h3>
<p>税费的种类包含</p>

<ul>
<li>Inclusive - 税前价包含税费</li>
<li>Exclusive - 税前价不包含税费</li>
<li>Cumulative - 特殊类型的百分比税费，并且税前价不包含该税</li>
</ul>
<h3 id='amount-fee'>关于固定价格类型税费 Amount Fee</h3>
<p>固定价格类型税费的货币单位与价格相同，并且存在 4种不同单位，即：<br />
* PER_ROOM_PER_NIGHT
* PER_PERSON_PER_NIGHT
* PER_ROOM_PER_STAY
* PER_PERSON_PER_STAY</p>
<h4 id='per-night'>关于每晚的税费 Per Night</h4>
<ul>
<li>PER_ROOM_PER_NIGHT - 每间房每晚均需扣除相应税费</li>
<li>PER_PERSON_PER_NIGHT - 每个入住人每晚均需扣除相应税费 </li>
</ul>
<h4 id='per-stay'>关于行程的税费 Per Stay</h4>
<ul>
<li>PER_ROOM_PER_STAY - 对于每间房，在入住期间，均会收取税费 </li>
<li>PER_PERSON_PER_STAY - 对于每个入住人，在入住期间，均会收取税费 </li>
</ul>
<h3 id='percent-fee'>关于百分比类型税费 Percent Fee</h3>
<p>入住期间，按照百分比收税</p>
<h3 id='cumulative-fee'>关于累加型税费 Cumulative Fee</h3>
<p>累加型税费为部分国家地区的特殊税费计算方式，累加型税费需要在其他所有类型税费的基础上进行累加。</p>

<p>例如：当税前价 = $100，供应商提供以下税费相关信息</p>

<ul>
<li>百分比型税 Service Charge</li>
<li>累加型税 State Tax</li>
<li>固定价格型税 City Tax</li>
</ul>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Service Charge"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"State Tax"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cumulative"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Percent"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Tax"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exclusive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PER_ROOM_PER_NIGHT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>税后价计算方式:</p>

<ul>
<li>AmountAfterServiceCharge = AmountBeforeTax *( 1 + Service Charge) = $100 * (1+5%) = $105</li>
<li>AmountAfterStateTax = AmountAfterServiceCharge * ( 1+ State Tax) =  $105 *(1 + 10%) = $115.5</li>
<li>AmountAfterTax  = AmountAfterStateTax + City Tax = $115.5 + $1 = 116.5<br></li>
</ul>
<h3 id='fee-change'>关于税费在入住期间发生变化 Fee Change</h3>
<p>对于特定被政府征收的税，存在次年增长的情况，如以下实例，当年 12月 28日入住，次年 1月3日离店，入住期间跨年，当 State Tax 从当年 8.5% 增长到次年 9.5% 时，应按照不同税率分别计算税后价，例如：</p>

<ul>
<li>入住日期: 12月 28日</li>
<li>离店日期: 1月 3日 （次年）</li>
<li>税 Tax1: City Tax $2 （PER_ROOM_PER_NIGHT 每间房每晚）</li>
<li>税 Tax2: State Tax 8.5% </li>
<li>每日价: $100</li>
</ul>

<p>计算方法：</p>

<ul>
<li>次年 1月 1日之前的税后价为 $100 * (1+8.5%) + $2 = $110.5</li>
<li>当年 12月 31日之后的税后价为 $100 * (1+9.5%) + $2 = $111.5</li>
<li>订单总价（税后价）为 $110.5 * 4 + 111.5 * 2 = $665.0`<br></li>
</ul>

<p>接口将通过 EffectiveDate 和 ExpireDate 来表示税规则生效日期以及失效日期，所以以上 State Tax 的变化，会在接口中返回</p>
<h2 id='extra-person-charge'>关于加人价 Extra Person Charge</h2>
<p>目前只有 IHG 存在加人价逻辑，如果分销商不与 IHG 进行对接，无需关注这部分内容。</p>

<p>IHG 会在接口中返回 ExtraPersonCharge 和 ExtraPersonChargeAfterTax。由于加人价不计入佣金计算，分销商需要处理加人价以计算出正确的佣金。</p>

<ul>
<li>ExtraPersonCharge 即为加人价（税前）</li>
<li>ExtraPersonChargeAfterTax 即为加人价（税后）</li>
</ul>

<p>例如：BAR 价格（Best Available Rate）的详细信息为</p>

<ul>
<li>税前价 : $120</li>
<li>税后价 : $133</li>
<li>加人价 : $20</li>
<li>税费 : 10% 的洲税以及每人每晚会被扣除 $1 的城市税</li>
</ul>
<h3 id='markup'>关于加价 Markup</h3>
<p>如果 IHG 提供给分销商 20% 折扣率，分销商会在接口服务中拿到以下 IHG 提供的价格相关信息：</p>

<ul>
<li>税前价: $100 = (AmountBeforeTax of Bar - ExtraPersonCharge)*(1-discount) + ExtraPersonCharge =  ($120 - $20) * (1-20%) + $20</li>
<li>税后价: $111 = AmountBeforeTax * (1+state tax) + city tax = $100*(1+10%) + $1</li>
<li>加人价（税前）: $20</li>
<li>加人价（税后）: $22 = ExtraPersonCharge * (1+ state tax) = 20 *(1+10%)<br></li>
<li>税费: 10% 洲税以及每间房每晚需要付 $1 城市税</li>
</ul>

<p>若分销商需要将供应商提供的价格计算成 Bar rate，需要根据以上信息做如下计算：</p>

<ul>
<li>税前价（Bar rate ）: (AmountBeforeTax - ExtraPersonCharge) / (1 - discount) + ExtraPersonCharge = ($100 - $20) / (1 - 20%) + $20 = $120</li>
<li>税后价（Bar rate ）: $120 *(1 + 10%) + 1 = $133</li>
</ul>
<h3 id='commission'>关于佣金 Commission</h3>
<p>以下实例为当 IHG 的佣金百分比为 10% 时，如何计算佣金：</p>

<ul>
<li>佣金价格为 : (税前价 - 加人价) x 佣金百分比 = ($120 - $20) x 10% = $10</li>
</ul>
<h2 id='room-index'>关于客人入住指定房间 Room Index</h2>
<p>作用：
Room Index 指客人与入住房间对应关系的匹配
限制：
* Room Index 序号为从 1 开始的连续自然数
* Room Index 数与房间数相等
* 并不是所有供应商都支持客人入住指定房间</p>
