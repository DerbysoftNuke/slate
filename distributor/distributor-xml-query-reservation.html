<h2 id='query-reservation'>Query Reservation</h2>
<ul>
<li>URL - https://go.derbysoftca.com/go/xml/query/yourusername</li>
<li>Method - POST</li>
</ul>

<p>Qeury Reservation API is for distributor to confirm one bookings status. It&#39;s for investigation purpose.</p>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;QueryReservationRequest</span> <span class="na">Password=</span><span class="s">"CoolJoe"</span> <span class="na">Token=</span><span class="s">"967d78e9-d3f9-4f85-bc84-2ee5f829166f"</span> <span class="na">UserName=</span><span class="s">"CoolJoe"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ReservationId</span> <span class="na">DerbysoftReservationId=</span><span class="s">"DF9041318LR004"</span> <span class="na">DistributorReservationId=</span><span class="s">"R11475594"</span> <span class="na">HotelReservationId=</span><span class="s">"31600633"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/QueryReservationRequest&gt;</span>
</code></pre>
<blockquote>
<p>Response for above request</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;QueryReservationResponse</span> <span class="na">Status=</span><span class="s">"Successful"</span> <span class="na">Token=</span><span class="s">"28546a32-9495-4781-8de8-77a674c0b51a"</span> <span class="na">IATA=</span><span class="s">"555555556"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Reservation</span> <span class="na">HotelCode=</span><span class="s">"CHIRC"</span> <span class="na">NumberOfUnits=</span><span class="s">"1"</span>  <span class="na">RatePlanCode=</span><span class="s">"49584IPRTF"</span> <span class="na">RoomTypeCode=</span><span class="s">"QNQN"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;StayDateRange</span> <span class="na">CheckIn=</span><span class="s">"2015-10-30"</span> <span class="na">CheckOut=</span><span class="s">"2015-11-01"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;GuestCount</span> <span class="na">AdultCount=</span><span class="s">"2"</span> <span class="na">ChildCount=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;ContactPerson</span> <span class="na">Address=</span><span class="s">"1000 Cool Dr"</span> <span class="na">City=</span><span class="s">"Atlanta"</span> <span class="na">CountryCode=</span><span class="s">"US"</span> <span class="na">Email=</span><span class="s">"cool.guy@cool.com"</span> <span class="na">GivenName=</span><span class="s">"Cool"</span> <span class="na">StateCode=</span><span class="s">"GA"</span> <span class="na">Surname=</span><span class="s">"Guy"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PaymentCard</span> <span class="na">CardCode=</span><span class="s">"VI"</span> <span class="na">CardNumber=</span><span class="s">"4111111111111111"</span> <span class="na">ExpireDate=</span><span class="s">"0918"</span> <span class="na">HolderName=</span><span class="s">"Cool Guy"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Guests&gt;</span>
      <span class="nt">&lt;Guest</span> <span class="na">GivenName=</span><span class="s">"Cool"</span> <span class="na">RoomIndex=</span><span class="s">"1"</span> <span class="na">Surname=</span><span class="s">"Guy"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;Guest</span> <span class="na">GivenName=</span><span class="s">"TBD"</span> <span class="na">RoomIndex=</span><span class="s">"1"</span> <span class="na">Surname=</span><span class="s">"TBD"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Guests&gt;</span>
    <span class="nt">&lt;Comments&gt;</span>
      <span class="nt">&lt;Comment&gt;</span>non-smoking please<span class="nt">&lt;/Comment&gt;</span>
    <span class="nt">&lt;/Comments&gt;</span>
    <span class="nt">&lt;RoomRates&gt;</span>
      <span class="nt">&lt;RoomRate</span> <span class="na">MealPlanCode=</span><span class="s">"RO"</span> <span class="na">RatePlanCode=</span><span class="s">"49584IPRTF"</span> <span class="na">RoomTypeCode=</span><span class="s">"QNQN"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Rates&gt;</span>
          <span class="nt">&lt;Rate</span> <span class="na">AmountAfterTax=</span><span class="s">"179.54"</span> <span class="na">AmountBeforeTax=</span><span class="s">"152.15"</span> <span class="na">EffectiveDate=</span><span class="s">"2015-10-30"</span> <span class="na">ExpireDate=</span><span class="s">"2015-11-01"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/Rates&gt;</span>
        <span class="nt">&lt;Fees&gt;</span>
          <span class="nt">&lt;Fee</span> <span class="na">ChargeType=</span><span class="s">"Tax"</span> <span class="na">Percent=</span><span class="s">"18.400"</span> <span class="na">Type=</span><span class="s">"Exclusive"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/Fees&gt;</span>
        <span class="nt">&lt;ns2:CancelPolicy&gt;</span>
           <span class="nt">&lt;ns2:CancelPenalties&gt;</span>
             <span class="nt">&lt;ns2:CancelPenalty</span> <span class="na">Deadline=</span><span class="s">"4PM"</span> <span class="na">NoShow=</span><span class="s">"false"</span> <span class="na">Percent=</span><span class="s">"100"</span><span class="nt">/&gt;</span>
             <span class="nt">&lt;ns2:CancelPenalty</span> <span class="na">NoShow=</span><span class="s">"true"</span> <span class="na">Percent=</span><span class="s">"100"</span><span class="nt">/&gt;</span>
           <span class="nt">&lt;/ns2:CancelPenalties&gt;</span>
        <span class="nt">&lt;/ns2:CancelPolicy&gt;</span>
      <span class="nt">&lt;/RoomRate&gt;</span>
    <span class="nt">&lt;/RoomRates&gt;</span>
    <span class="nt">&lt;Total</span> <span class="na">AmountAfterTax=</span><span class="s">"359.07"</span> <span class="na">AmountBeforeTax=</span><span class="s">"304.300"</span> <span class="na">CurrencyCode=</span><span class="s">"USD"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;ReservationId</span> <span class="na">DerbysoftReservationId=</span><span class="s">"DFA280221G104J"</span> <span class="na">DistributorReservationId=</span><span class="s">"R449838380"</span> <span class="na">HotelReservationId=</span><span class="s">"5828044"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;ReservationStatus</span> <span class="na">ResStatus=</span><span class="s">"Success"</span> <span class="na">CancelStatus=</span><span class="s">"None"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/Reservation&gt;</span>
<span class="nt">&lt;/QueryReservationResponse&gt;</span>
</code></pre><h3 id='request'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Count</th>
<th>Type</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>@Token</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>Unique id of request and response</td>
</tr>
<tr>
<td>@UserName</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>User name</td>
</tr>
<tr>
<td>@Password</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>Password</td>
</tr>
<tr>
<td>/ReservationId</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>.@DistributorReservationId</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>Channel reservation Id. Could not be duplicated.</td>
</tr>
<tr>
<td>.@DerbysoftReservationId</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>DerbySoft unique reservation id.</td>
</tr>
<tr>
<td>.@HotelReservationId</td>
<td>0.1</td>
<td>String</td>
<td>256</td>
<td>Hotel unique reservation id.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Count</th>
<th>Type</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>@Token</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>Unique id of request and response</td>
</tr>
<tr>
<td>@Status</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>Successful or Failed.</td>
</tr>
<tr>
<td>@IATA</td>
<td>0.1</td>
<td>String</td>
<td>64</td>
<td>IATA number</td>
</tr>
<tr>
<td>/Reservaion</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>.@HotelCode</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>Hotel unique id</td>
</tr>
<tr>
<td>.@NumberOfUnits</td>
<td>1</td>
<td>String</td>
<td>3</td>
<td>Room Count</td>
</tr>
<tr>
<td>.@RoomTypeCode</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>Room type code</td>
</tr>
<tr>
<td>.@RatePlanCode</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>Rate plan code</td>
</tr>
<tr>
<td>./StayDateRange</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>..@CheckIn</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>CheckIn date. Format is yyyy-mm-dd</td>
</tr>
<tr>
<td>..@CheckOut</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>CheckOut date. Format is yyyy-mm-dd</td>
</tr>
<tr>
<td>./ContactPerson</td>
<td>1</td>
<td>String</td>
<td></td>
<td>Contact person information</td>
</tr>
<tr>
<td>..@GivenName</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td></td>
</tr>
<tr>
<td>..@Surname</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td></td>
</tr>
<tr>
<td>..@CountryCode</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td></td>
</tr>
<tr>
<td>..@StateCode</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td></td>
</tr>
<tr>
<td>..@City</td>
<td>0.1</td>
<td>String</td>
<td>128</td>
<td></td>
</tr>
<tr>
<td>..@Address</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td></td>
</tr>
<tr>
<td>..@Email</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td></td>
</tr>
<tr>
<td>..@Telephone</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td></td>
</tr>
<tr>
<td>./GuestCount</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>..@AdultCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>Per room adult count.</td>
</tr>
<tr>
<td>..@ChildCount</td>
<td>1</td>
<td>Int</td>
<td></td>
<td>Per room child count.</td>
</tr>
<tr>
<td>..@ChildAges</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td>Child ages for each child, seperate by comma.</td>
</tr>
<tr>
<td>./Guests</td>
<td>1.n</td>
<td></td>
<td></td>
<td>Guests</td>
</tr>
<tr>
<td>../Guest</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>...@GivenName</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td></td>
</tr>
<tr>
<td>...@Surname</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td></td>
</tr>
<tr>
<td>...@RoomIndex</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td>Please go Appendix to see details</td>
</tr>
<tr>
<td>...@CountryCode</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td></td>
</tr>
<tr>
<td>...@StateCode</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td></td>
</tr>
<tr>
<td>...@City</td>
<td>0.1</td>
<td>String</td>
<td>128</td>
<td></td>
</tr>
<tr>
<td>...@Address</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td></td>
</tr>
<tr>
<td>...@Email</td>
<td>0.1</td>
<td>String</td>
<td>1024</td>
<td></td>
</tr>
<tr>
<td>...@Telephone</td>
<td>0.1</td>
<td>String</td>
<td>32</td>
<td></td>
</tr>
<tr>
<td>./Comments</td>
<td>0.1</td>
<td></td>
<td></td>
<td>Comments</td>
</tr>
<tr>
<td>../Comment</td>
<td>1.n</td>
<td>String</td>
<td>128</td>
<td>DerbySoft may cut your comments to fit supplier&#39;s limitation.</td>
</tr>
<tr>
<td>./RoomRates</td>
<td>0.1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>../RoomRate</td>
<td>1.n</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>...@RoomTypeCode</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>Room type code for the rates.</td>
</tr>
<tr>
<td>...@RatePlanCode</td>
<td>1</td>
<td>String</td>
<td>128</td>
<td>Rate plan code for the rates.</td>
</tr>
<tr>
<td>...@MealPlanCode</td>
<td>1</td>
<td>Int</td>
<td>8</td>
<td>Meal plan code for the rates. Please go Appendix to see details</td>
</tr>
<tr>
<td>.../Rates</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>..../Rate</td>
<td>1.n</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>.....@EffectiveDate</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>Effective date of the rate. This date is included.</td>
</tr>
<tr>
<td>.....@ExpireDate</td>
<td>1</td>
<td>String</td>
<td>12</td>
<td>Expire date of the rate. This date is excluded.</td>
</tr>
<tr>
<td>.....@AmountBeforeTax</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>Amount before tax</td>
</tr>
<tr>
<td>.....@AmountAfterTax</td>
<td>1</td>
<td>Double</td>
<td></td>
<td>Amount after tax</td>
</tr>
<tr>
<td>.....@ExtraPersonCharge</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>Please go Appendix to see details</td>
</tr>
<tr>
<td>.....@ExtraPersonChargeAfterTax</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td>Please go Appendix to see details</td>
</tr>
<tr>
<td>.../Fees</td>
<td>0.1</td>
<td></td>
<td></td>
<td>Please go Appendix to see details</td>
</tr>
<tr>
<td>..../Fee</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>.....@ChargeType</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td></td>
</tr>
<tr>
<td>.....@Type</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td></td>
</tr>
<tr>
<td>.....@EffectiveDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td></td>
</tr>
<tr>
<td>.....@ExpireDate</td>
<td>0.1</td>
<td>String</td>
<td>12</td>
<td></td>
</tr>
<tr>
<td>.....@Unit</td>
<td>0.1</td>
<td>Enum</td>
<td></td>
<td></td>
</tr>
<tr>
<td>.....@Percent</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td></td>
</tr>
<tr>
<td>.....@Amount</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td></td>
</tr>
<tr>
<td>.../CancelPolicy</td>
<td>0.1</td>
<td></td>
<td></td>
<td>Please go Appendix to see details</td>
</tr>
<tr>
<td>..../CancelPenalties</td>
<td>0.1</td>
<td></td>
<td></td>
<td>Please go Appendix to see details</td>
</tr>
<tr>
<td>...../CancelPenalty</td>
<td>1.n</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>......@MinHoursBeforeCheckIn</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td></td>
</tr>
<tr>
<td>......@MaxHoursBeforeCheckIn</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td></td>
</tr>
<tr>
<td>......@Deadline</td>
<td>0.1</td>
<td>String</td>
<td>8</td>
<td></td>
</tr>
<tr>
<td>......@Nights</td>
<td>0.1</td>
<td>Int</td>
<td></td>
<td></td>
</tr>
<tr>
<td>......@Price</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td></td>
</tr>
<tr>
<td>......@Percent</td>
<td>0.1</td>
<td>Double</td>
<td></td>
<td></td>
</tr>
<tr>
<td>......@NoShow</td>
<td>0.1</td>
<td>Boolean</td>
<td></td>
<td></td>
</tr>
<tr>
<td>./Total</td>
<td>0.1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>..@CurrencyCode</td>
<td>1</td>
<td>String</td>
<td>3</td>
<td>Currency code. ISO 4217</td>
</tr>
<tr>
<td>..@AmountBeforeTax</td>
<td>1</td>
<td>Double</td>
<td>32</td>
<td>Total amount of before tax.</td>
</tr>
<tr>
<td>..@AmountAfterTax</td>
<td>1</td>
<td>Double</td>
<td>32</td>
<td>Total amount of after tax.</td>
</tr>
<tr>
<td>./ReservationId</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>..@DistributorReservationId</td>
<td>1</td>
<td>String</td>
<td>64</td>
<td>Channel reservation Id. Could not be duplicated.</td>
</tr>
<tr>
<td>..@DerbysoftReservationId</td>
<td>1</td>
<td>String</td>
<td>32</td>
<td>DerbySoft unique reservation id.</td>
</tr>
<tr>
<td>..@HotelReservationId</td>
<td>0.1</td>
<td>String</td>
<td>256</td>
<td>Hotel unique reservation id.</td>
</tr>
<tr>
<td>..@HotelCancelConfirmId</td>
<td>0.1</td>
<td>String</td>
<td>256</td>
<td>Hotel cancellation id.</td>
</tr>
<tr>
<td>./ReservationStatus</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>..@ResStatus</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>Could be &quot;None&quot;, &quot;Success&quot;, &quot;Failed&quot;, &quot;Processing&quot;</td>
</tr>
<tr>
<td>..@CancelStatus</td>
<td>1</td>
<td>Enum</td>
<td></td>
<td>Could be &quot;None&quot;, &quot;Success&quot;, &quot;Failed&quot;, &quot;Processing&quot;</td>
</tr>
</tbody></table>
